var Mn=Object.defineProperty;var Hn=(n,t,e)=>t in n?Mn(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var Y=(n,t,e)=>(Hn(n,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const r of o.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function e(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=e(i);fetch(i.href,o)}})();function k(){}const pn=n=>n;function Yt(n,t){for(const e in t)n[e]=t[e];return n}function jn(n){return!!n&&(typeof n=="object"||typeof n=="function")&&typeof n.then=="function"}function mn(n){return n()}function Le(){return Object.create(null)}function tt(n){n.forEach(mn)}function yt(n){return typeof n=="function"}function et(n,t){return n!=n?t==t:n!==t||n&&typeof n=="object"||typeof n=="function"}let Wt;function Wn(n,t){return n===t?!0:(Wt||(Wt=document.createElement("a")),Wt.href=t,n===Wt.href)}function Fn(n){return Object.keys(n).length===0}function bn(n,...t){if(n==null){for(const s of t)s(void 0);return k}const e=n.subscribe(...t);return e.unsubscribe?()=>e.unsubscribe():e}function Nt(n,t,e){n.$$.on_destroy.push(bn(t,e))}function ve(n,t,e,s){if(n){const i=wn(n,t,e,s);return n[0](i)}}function wn(n,t,e,s){return n[1]&&s?Yt(e.ctx.slice(),n[1](s(t))):e.ctx}function Ce(n,t,e,s){if(n[2]&&s){const i=n[2](s(e));if(t.dirty===void 0)return i;if(typeof i=="object"){const o=[],r=Math.max(t.dirty.length,i.length);for(let l=0;l<r;l+=1)o[l]=t.dirty[l]|i[l];return o}return t.dirty|i}return t.dirty}function ke(n,t,e,s,i,o){if(i){const r=wn(t,e,s,o);n.p(r,i)}}function Ee(n){if(n.ctx.length>32){const t=[],e=n.ctx.length/32;for(let s=0;s<e;s++)t[s]=-1;return t}return-1}function $e(n){const t={};for(const e in n)e[0]!=="$"&&(t[e]=n[e]);return t}function Ne(n){return n??""}function Se(n){return n&&yt(n.destroy)?n.destroy:k}const yn=typeof window<"u";let vn=yn?()=>window.performance.now():()=>Date.now(),Te=yn?n=>requestAnimationFrame(n):k;const St=new Set;function Cn(n){St.forEach(t=>{t.c(n)||(St.delete(t),t.f())}),St.size!==0&&Te(Cn)}function kn(n){let t;return St.size===0&&Te(Cn),{promise:new Promise(e=>{St.add(t={c:n,f:e})}),abort(){St.delete(t)}}}function R(n,t){n.appendChild(t)}function En(n){if(!n)return document;const t=n.getRootNode?n.getRootNode():n.ownerDocument;return t&&t.host?t:n.ownerDocument}function zn(n){const t=I("style");return t.textContent="/* empty */",qn(En(n),t),t.sheet}function qn(n,t){return R(n.head||n,t),t.sheet}function L(n,t,e){n.insertBefore(t,e||null)}function x(n){n.parentNode&&n.parentNode.removeChild(n)}function Gn(n,t){for(let e=0;e<n.length;e+=1)n[e]&&n[e].d(t)}function I(n){return document.createElement(n)}function Jn(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function ft(n){return document.createTextNode(n)}function F(){return ft(" ")}function dt(){return ft("")}function Z(n,t,e,s){return n.addEventListener(t,e,s),()=>n.removeEventListener(t,e,s)}function E(n,t,e){e==null?n.removeAttribute(t):n.getAttribute(t)!==e&&n.setAttribute(t,e)}function Vn(n){return Array.from(n.childNodes)}function fe(n,t){t=""+t,n.data!==t&&(n.data=t)}function Ue(n,t){n.value=t??""}function vt(n,t,e){n.classList.toggle(t,!!e)}function Sn(n,t,{bubbles:e=!1,cancelable:s=!1}={}){return new CustomEvent(n,{detail:t,bubbles:e,cancelable:s})}class Xn{constructor(t=!1){Y(this,"is_svg",!1);Y(this,"e");Y(this,"n");Y(this,"t");Y(this,"a");this.is_svg=t,this.e=this.n=null}c(t){this.h(t)}m(t,e,s=null){this.e||(this.is_svg?this.e=Jn(e.nodeName):this.e=I(e.nodeType===11?"TEMPLATE":e.nodeName),this.t=e.tagName!=="TEMPLATE"?e:e.content,this.c(t)),this.i(s)}h(t){this.e.innerHTML=t,this.n=Array.from(this.e.nodeName==="TEMPLATE"?this.e.content.childNodes:this.e.childNodes)}i(t){for(let e=0;e<this.n.length;e+=1)L(this.t,this.n[e],t)}p(t){this.d(),this.h(t),this.i(this.a)}d(){this.n.forEach(x)}}function Be(n,t){return new n(t)}const Zt=new Map;let Qt=0;function Kn(n){let t=5381,e=n.length;for(;e--;)t=(t<<5)-t^n.charCodeAt(e);return t>>>0}function Yn(n,t){const e={stylesheet:zn(t),rules:{}};return Zt.set(n,e),e}function Tn(n,t,e,s,i,o,r,l=0){const a=16.666/s;let c=`{
`;for(let p=0;p<=1;p+=a){const m=t+(e-t)*o(p);c+=p*100+`%{${r(m,1-m)}}
`}const h=c+`100% {${r(e,1-e)}}
}`,u=`__svelte_${Kn(h)}_${l}`,f=En(n),{stylesheet:_,rules:g}=Zt.get(f)||Yn(f,n);g[u]||(g[u]=!0,_.insertRule(`@keyframes ${u} ${h}`,_.cssRules.length));const b=n.style.animation||"";return n.style.animation=`${b?`${b}, `:""}${u} ${s}ms linear ${i}ms 1 both`,Qt+=1,u}function de(n,t){const e=(n.style.animation||"").split(", "),s=e.filter(t?o=>o.indexOf(t)<0:o=>o.indexOf("__svelte")===-1),i=e.length-s.length;i&&(n.style.animation=s.join(", "),Qt-=i,Qt||Zn())}function Zn(){Te(()=>{Qt||(Zt.forEach(n=>{const{ownerNode:t}=n.stylesheet;t&&x(t)}),Zt.clear())})}let Ot;function ut(n){Ot=n}function At(){if(!Ot)throw new Error("Function called outside component initialization");return Ot}function Ie(n){At().$$.on_mount.push(n)}function Qn(n){At().$$.on_destroy.push(n)}function ts(){const n=At();return(t,e,{cancelable:s=!1}={})=>{const i=n.$$.callbacks[t];if(i){const o=Sn(t,e,{cancelable:s});return i.slice().forEach(r=>{r.call(n,o)}),!o.defaultPrevented}return!0}}function oe(n,t){return At().$$.context.set(n,t),t}function _e(n){return At().$$.context.get(n)}const Et=[],bt=[];let Tt=[];const ge=[],es=Promise.resolve();let pe=!1;function ns(){pe||(pe=!0,es.then(Pe))}function It(n){Tt.push(n)}function ss(n){ge.push(n)}const re=new Set;let Ct=0;function Pe(){if(Ct!==0)return;const n=Ot;do{try{for(;Ct<Et.length;){const t=Et[Ct];Ct++,ut(t),is(t.$$)}}catch(t){throw Et.length=0,Ct=0,t}for(ut(null),Et.length=0,Ct=0;bt.length;)bt.pop()();for(let t=0;t<Tt.length;t+=1){const e=Tt[t];re.has(e)||(re.add(e),e())}Tt.length=0}while(Et.length);for(;ge.length;)ge.pop()();pe=!1,re.clear(),ut(n)}function is(n){if(n.fragment!==null){n.update(),tt(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(It)}}function os(n){const t=[],e=[];Tt.forEach(s=>n.indexOf(s)===-1?t.push(s):e.push(s)),e.forEach(s=>s()),Tt=t}let Lt;function In(){return Lt||(Lt=Promise.resolve(),Lt.then(()=>{Lt=null})),Lt}function te(n,t,e){n.dispatchEvent(Sn(`${t?"intro":"outro"}${e}`))}const Vt=new Set;let mt;function _t(){mt={r:0,c:[],p:mt}}function gt(){mt.r||tt(mt.c),mt=mt.p}function $(n,t){n&&n.i&&(Vt.delete(n),n.i(t))}function U(n,t,e,s){if(n&&n.o){if(Vt.has(n))return;Vt.add(n),mt.c.push(()=>{Vt.delete(n),s&&(e&&n.d(1),s())}),n.o(t)}else s&&s()}const Pn={duration:0};function rs(n,t,e){const s={direction:"in"};let i=t(n,e,s),o=!1,r,l,a=0;function c(){r&&de(n,r)}function h(){const{delay:f=0,duration:_=300,easing:g=pn,tick:b=k,css:p}=i||Pn;p&&(r=Tn(n,0,1,_,f,g,p,a++)),b(0,1);const m=vn()+f,w=m+_;l&&l.abort(),o=!0,It(()=>te(n,!0,"start")),l=kn(D=>{if(o){if(D>=w)return b(1,0),te(n,!0,"end"),c(),o=!1;if(D>=m){const A=g((D-m)/_);b(A,1-A)}}return o})}let u=!1;return{start(){u||(u=!0,de(n),yt(i)?(i=i(s),In().then(h)):h())},invalidate(){u=!1},end(){o&&(c(),o=!1)}}}function ls(n,t,e){const s={direction:"out"};let i=t(n,e,s),o=!0,r;const l=mt;l.r+=1;let a;function c(){const{delay:h=0,duration:u=300,easing:f=pn,tick:_=k,css:g}=i||Pn;g&&(r=Tn(n,1,0,u,h,f,g));const b=vn()+h,p=b+u;It(()=>te(n,!1,"start")),"inert"in n&&(a=n.inert,n.inert=!0),kn(m=>{if(o){if(m>=p)return _(0,1),te(n,!1,"end"),--l.r||tt(l.c),!1;if(m>=b){const w=f((m-b)/u);_(1-w,w)}}return o})}return yt(i)?In().then(()=>{i=i(s),c()}):c(),{end(h){h&&"inert"in n&&(n.inert=a),h&&i.tick&&i.tick(1,0),o&&(r&&de(n,r),o=!1)}}}function Oe(n,t){const e=t.token={};function s(i,o,r,l){if(t.token!==e)return;t.resolved=l;let a=t.ctx;r!==void 0&&(a=a.slice(),a[r]=l);const c=i&&(t.current=i)(a);let h=!1;t.block&&(t.blocks?t.blocks.forEach((u,f)=>{f!==o&&u&&(_t(),U(u,1,1,()=>{t.blocks[f]===u&&(t.blocks[f]=null)}),gt())}):t.block.d(1),c.c(),$(c,1),c.m(t.mount(),t.anchor),h=!0),t.block=c,t.blocks&&(t.blocks[o]=c),h&&Pe()}if(jn(n)){const i=At();if(n.then(o=>{ut(i),s(t.then,1,t.value,o),ut(null)},o=>{if(ut(i),s(t.catch,2,t.error,o),ut(null),!t.hasCatch)throw o}),t.current!==t.pending)return s(t.pending,0),!0}else{if(t.current!==t.then)return s(t.then,1,t.value,n),!0;t.resolved=n}}function as(n,t,e){const s=t.slice(),{resolved:i}=n;n.current===n.then&&(s[n.value]=i),n.current===n.catch&&(s[n.error]=i),n.block.p(s,e)}function Me(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function He(n,t){const e={},s={},i={$$scope:1};let o=n.length;for(;o--;){const r=n[o],l=t[o];if(l){for(const a in r)a in l||(s[a]=1);for(const a in l)i[a]||(e[a]=l[a],i[a]=1);n[o]=l}else for(const a in r)i[a]=1}for(const r in s)r in e||(e[r]=void 0);return e}function Ft(n){return typeof n=="object"&&n!==null?n:{}}function cs(n,t,e){const s=n.$$.props[t];s!==void 0&&(n.$$.bound[s]=e,e(n.$$.ctx[s]))}function lt(n){n&&n.c()}function st(n,t,e){const{fragment:s,after_update:i}=n.$$;s&&s.m(t,e),It(()=>{const o=n.$$.on_mount.map(mn).filter(yt);n.$$.on_destroy?n.$$.on_destroy.push(...o):tt(o),n.$$.on_mount=[]}),i.forEach(It)}function it(n,t){const e=n.$$;e.fragment!==null&&(os(e.after_update),tt(e.on_destroy),e.fragment&&e.fragment.d(t),e.on_destroy=e.fragment=null,e.ctx=[])}function hs(n,t){n.$$.dirty[0]===-1&&(Et.push(n),ns(),n.$$.dirty.fill(0)),n.$$.dirty[t/31|0]|=1<<t%31}function at(n,t,e,s,i,o,r=null,l=[-1]){const a=Ot;ut(n);const c=n.$$={fragment:null,ctx:[],props:o,update:k,not_equal:i,bound:Le(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(a?a.$$.context:[])),callbacks:Le(),dirty:l,skip_bound:!1,root:t.target||a.$$.root};r&&r(c.root);let h=!1;if(c.ctx=e?e(n,t.props||{},(u,f,..._)=>{const g=_.length?_[0]:f;return c.ctx&&i(c.ctx[u],c.ctx[u]=g)&&(!c.skip_bound&&c.bound[u]&&c.bound[u](g),h&&hs(n,u)),f}):[],c.update(),h=!0,tt(c.before_update),c.fragment=s?s(c.ctx):!1,t.target){if(t.hydrate){const u=Vn(t.target);c.fragment&&c.fragment.l(u),u.forEach(x)}else c.fragment&&c.fragment.c();t.intro&&$(n.$$.fragment),st(n,t.target,t.anchor),Pe()}ut(a)}class ct{constructor(){Y(this,"$$");Y(this,"$$set")}$destroy(){it(this,1),this.$destroy=k}$on(t,e){if(!yt(e))return k;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(e),()=>{const i=s.indexOf(e);i!==-1&&s.splice(i,1)}}$set(t){this.$$set&&!Fn(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const us="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(us);const je={},me={},fs={},xn=/^:(.+)/,We=4,ds=3,_s=2,gs=1,ps=1,be=n=>n.replace(/(^\/+|\/+$)/g,"").split("/"),le=n=>n.replace(/(^\/+|\/+$)/g,""),ms=(n,t)=>{const e=n.default?0:be(n.path).reduce((s,i)=>(s+=We,i===""?s+=ps:xn.test(i)?s+=_s:i[0]==="*"?s-=We+gs:s+=ds,s),0);return{route:n,score:e,index:t}},bs=n=>n.map(ms).sort((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index),Fe=(n,t)=>{let e,s;const[i]=t.split("?"),o=be(i),r=o[0]==="",l=bs(n);for(let a=0,c=l.length;a<c;a++){const h=l[a].route;let u=!1;if(h.default){s={route:h,params:{},uri:t};continue}const f=be(h.path),_={},g=Math.max(o.length,f.length);let b=0;for(;b<g;b++){const p=f[b],m=o[b];if(p&&p[0]==="*"){const D=p==="*"?"*":p.slice(1);_[D]=o.slice(b).map(decodeURIComponent).join("/");break}if(typeof m>"u"){u=!0;break}const w=xn.exec(p);if(w&&!r){const D=decodeURIComponent(m);_[w[1]]=D}else if(p!==m){u=!0;break}}if(!u){e={route:h,params:_,uri:"/"+o.slice(0,b).join("/")};break}}return e||s||null},ze=(n,t)=>`${le(t==="/"?n:`${le(n)}/${le(t)}`)}/`,Dn=()=>typeof window<"u"&&"document"in window&&"location"in window,ws=n=>({params:n&4}),qe=n=>({params:n[2]});function Ge(n){let t,e,s,i;const o=[vs,ys],r=[];function l(a,c){return a[0]?0:1}return t=l(n),e=r[t]=o[t](n),{c(){e.c(),s=dt()},m(a,c){r[t].m(a,c),L(a,s,c),i=!0},p(a,c){let h=t;t=l(a),t===h?r[t].p(a,c):(_t(),U(r[h],1,1,()=>{r[h]=null}),gt(),e=r[t],e?e.p(a,c):(e=r[t]=o[t](a),e.c()),$(e,1),e.m(s.parentNode,s))},i(a){i||($(e),i=!0)},o(a){U(e),i=!1},d(a){a&&x(s),r[t].d(a)}}}function ys(n){let t;const e=n[8].default,s=ve(e,n,n[7],qe);return{c(){s&&s.c()},m(i,o){s&&s.m(i,o),t=!0},p(i,o){s&&s.p&&(!t||o&132)&&ke(s,e,i,i[7],t?Ce(e,i[7],o,ws):Ee(i[7]),qe)},i(i){t||($(s,i),t=!0)},o(i){U(s,i),t=!1},d(i){s&&s.d(i)}}}function vs(n){let t,e,s,i={ctx:n,current:null,token:null,hasCatch:!1,pending:Es,then:ks,catch:Cs,value:12,blocks:[,,,]};return Oe(e=n[0],i),{c(){t=dt(),i.block.c()},m(o,r){L(o,t,r),i.block.m(o,i.anchor=r),i.mount=()=>t.parentNode,i.anchor=t,s=!0},p(o,r){n=o,i.ctx=n,r&1&&e!==(e=n[0])&&Oe(e,i)||as(i,n,r)},i(o){s||($(i.block),s=!0)},o(o){for(let r=0;r<3;r+=1){const l=i.blocks[r];U(l)}s=!1},d(o){o&&x(t),i.block.d(o),i.token=null,i=null}}}function Cs(n){return{c:k,m:k,p:k,i:k,o:k,d:k}}function ks(n){var l;let t,e,s;const i=[n[2],n[3]];var o=((l=n[12])==null?void 0:l.default)||n[12];function r(a,c){let h={};if(c!==void 0&&c&12)h=He(i,[c&4&&Ft(a[2]),c&8&&Ft(a[3])]);else for(let u=0;u<i.length;u+=1)h=Yt(h,i[u]);return{props:h}}return o&&(t=Be(o,r(n))),{c(){t&&lt(t.$$.fragment),e=dt()},m(a,c){t&&st(t,a,c),L(a,e,c),s=!0},p(a,c){var h;if(c&1&&o!==(o=((h=a[12])==null?void 0:h.default)||a[12])){if(t){_t();const u=t;U(u.$$.fragment,1,0,()=>{it(u,1)}),gt()}o?(t=Be(o,r(a,c)),lt(t.$$.fragment),$(t.$$.fragment,1),st(t,e.parentNode,e)):t=null}else if(o){const u=c&12?He(i,[c&4&&Ft(a[2]),c&8&&Ft(a[3])]):{};t.$set(u)}},i(a){s||(t&&$(t.$$.fragment,a),s=!0)},o(a){t&&U(t.$$.fragment,a),s=!1},d(a){a&&x(e),t&&it(t,a)}}}function Es(n){return{c:k,m:k,p:k,i:k,o:k,d:k}}function Ss(n){let t,e,s=n[1]&&n[1].route===n[5]&&Ge(n);return{c(){s&&s.c(),t=dt()},m(i,o){s&&s.m(i,o),L(i,t,o),e=!0},p(i,[o]){i[1]&&i[1].route===i[5]?s?(s.p(i,o),o&2&&$(s,1)):(s=Ge(i),s.c(),$(s,1),s.m(t.parentNode,t)):s&&(_t(),U(s,1,1,()=>{s=null}),gt())},i(i){e||($(s),e=!0)},o(i){U(s),e=!1},d(i){i&&x(t),s&&s.d(i)}}}function Ts(n,t,e){let s,{$$slots:i={},$$scope:o}=t,{path:r=""}=t,{component:l=null}=t,a={},c={};const{registerRoute:h,unregisterRoute:u,activeRoute:f}=_e(me);Nt(n,f,g=>e(1,s=g));const _={path:r,default:r===""};return h(_),Qn(()=>{u(_)}),n.$$set=g=>{e(11,t=Yt(Yt({},t),$e(g))),"path"in g&&e(6,r=g.path),"component"in g&&e(0,l=g.component),"$$scope"in g&&e(7,o=g.$$scope)},n.$$.update=()=>{if(s&&s.route===_){e(2,a=s.params);const{component:g,path:b,...p}=t;e(3,c=p),g&&(g.toString().startsWith("class ")?e(0,l=g):e(0,l=g())),Dn()&&!s.preserveScroll&&(window==null||window.scrollTo(0,0))}},t=$e(t),[l,s,a,c,f,_,r,o,i]}class Je extends ct{constructor(t){super(),at(this,t,Ts,Ss,et,{path:6,component:0})}}const kt=[];function Is(n,t){return{subscribe:Ut(n,t).subscribe}}function Ut(n,t=k){let e;const s=new Set;function i(l){if(et(n,l)&&(n=l,e)){const a=!kt.length;for(const c of s)c[1](),kt.push(c,n);if(a){for(let c=0;c<kt.length;c+=2)kt[c][0](kt[c+1]);kt.length=0}}}function o(l){i(l(n))}function r(l,a=k){const c=[l,a];return s.add(c),s.size===1&&(e=t(i,o)||k),l(n),()=>{s.delete(c),s.size===0&&e&&(e(),e=null)}}return{set:i,update:o,subscribe:r}}function Ps(n,t,e){const s=!Array.isArray(n),i=s?[n]:n;if(!i.every(Boolean))throw new Error("derived() expects stores as input, got a falsy value");const o=t.length<2;return Is(e,(r,l)=>{let a=!1;const c=[];let h=0,u=k;const f=()=>{if(h)return;u();const g=t(s?c[0]:c,r,l);o?r(g):u=yt(g)?g:k},_=i.map((g,b)=>bn(g,p=>{c[b]=p,h&=~(1<<b),a&&f()},()=>{h|=1<<b}));return a=!0,f(),function(){tt(_),u(),a=!1}})}const ae=n=>({...n.location,state:n.history.state,key:n.history.state&&n.history.state.key||"initial"}),xs=n=>{const t=[];let e=ae(n);return{get location(){return e},listen(s){t.push(s);const i=()=>{e=ae(n),s({location:e,action:"POP"})};return n.addEventListener("popstate",i),()=>{n.removeEventListener("popstate",i);const o=t.indexOf(s);t.splice(o,1)}},navigate(s,{state:i,replace:o=!1,preserveScroll:r=!1}={}){i={...i,key:Date.now()+""};try{o?n.history.replaceState(i,"",s):n.history.pushState(i,"",s)}catch{n.location[o?"replace":"assign"](s)}e=ae(n),t.forEach(l=>l({location:e,action:"PUSH",preserveScroll:r})),document.activeElement.blur()}}},Ds=(n="/")=>{let t=0;const e=[{pathname:n,search:""}],s=[];return{get location(){return e[t]},addEventListener(i,o){},removeEventListener(i,o){},history:{get entries(){return e},get index(){return t},get state(){return s[t]},pushState(i,o,r){const[l,a=""]=r.split("?");t++,e.push({pathname:l,search:a}),s.push(i)},replaceState(i,o,r){const[l,a=""]=r.split("?");e[t]={pathname:l,search:a},s[t]=i}}}},As=xs(Dn()?window:Ds()),Rs=n=>({route:n&4,location:n&2}),Ve=n=>({route:n[2]&&n[2].uri,location:n[1]}),Ls=n=>({route:n&4,location:n&2}),Xe=n=>({route:n[2]&&n[2].uri,location:n[1]});function $s(n){let t;const e=n[15].default,s=ve(e,n,n[14],Ve);return{c(){s&&s.c()},m(i,o){s&&s.m(i,o),t=!0},p(i,o){s&&s.p&&(!t||o&16390)&&ke(s,e,i,i[14],t?Ce(e,i[14],o,Rs):Ee(i[14]),Ve)},i(i){t||($(s,i),t=!0)},o(i){U(s,i),t=!1},d(i){s&&s.d(i)}}}function Ns(n){let t=n[1].pathname,e,s,i=Ke(n);return{c(){i.c(),e=dt()},m(o,r){i.m(o,r),L(o,e,r),s=!0},p(o,r){r&2&&et(t,t=o[1].pathname)?(_t(),U(i,1,1,k),gt(),i=Ke(o),i.c(),$(i,1),i.m(e.parentNode,e)):i.p(o,r)},i(o){s||($(i),s=!0)},o(o){U(i),s=!1},d(o){o&&x(e),i.d(o)}}}function Ke(n){let t,e,s,i;const o=n[15].default,r=ve(o,n,n[14],Xe);return{c(){t=I("div"),r&&r.c()},m(l,a){L(l,t,a),r&&r.m(t,null),i=!0},p(l,a){r&&r.p&&(!i||a&16390)&&ke(r,o,l,l[14],i?Ce(o,l[14],a,Ls):Ee(l[14]),Xe)},i(l){i||($(r,l),l&&It(()=>{i&&(s&&s.end(1),e=rs(t,n[3],{}),e.start())}),i=!0)},o(l){U(r,l),e&&e.invalidate(),l&&(s=ls(t,n[3],{})),i=!1},d(l){l&&x(t),r&&r.d(l),l&&s&&s.end()}}}function Us(n){let t,e,s,i;const o=[Ns,$s],r=[];function l(a,c){return a[0]?0:1}return t=l(n),e=r[t]=o[t](n),{c(){e.c(),s=dt()},m(a,c){r[t].m(a,c),L(a,s,c),i=!0},p(a,[c]){let h=t;t=l(a),t===h?r[t].p(a,c):(_t(),U(r[h],1,1,()=>{r[h]=null}),gt(),e=r[t],e?e.p(a,c):(e=r[t]=o[t](a),e.c()),$(e,1),e.m(s.parentNode,s))},i(a){i||($(e),i=!0)},o(a){U(e),i=!1},d(a){a&&x(s),r[t].d(a)}}}function Bs(n,t,e){let s,i,o,r,{$$slots:l={},$$scope:a}=t,{basepath:c="/"}=t,{url:h=null}=t,{viewtransition:u=null}=t,{history:f=As}=t;const _=(S,z,y)=>{const T=u(y);return typeof(T==null?void 0:T.fn)=="function"?T.fn(S,T):T};oe(fs,f);const g=_e(je),b=_e(me),p=Ut([]);Nt(n,p,S=>e(12,i=S));const m=Ut(null);Nt(n,m,S=>e(2,r=S));let w=!1;const D=g||Ut(h?{pathname:h}:f.location);Nt(n,D,S=>e(1,s=S));const A=b?b.routerBase:Ut({path:c,uri:c});Nt(n,A,S=>e(13,o=S));const v=Ps([A,m],([S,z])=>{if(!z)return S;const{path:y}=S,{route:T,uri:P}=z;return{path:T.default?y:T.path.replace(/\*.*$/,""),uri:P}}),C=S=>{const{path:z}=o;let{path:y}=S;if(S._path=y,S.path=ze(z,y),typeof window>"u"){if(w)return;const T=Fe([S],s.pathname);T&&(m.set(T),w=!0)}else p.update(T=>[...T,S])},j=S=>{p.update(z=>z.filter(y=>y!==S))};let M=!1;return g||(Ie(()=>f.listen(z=>{e(11,M=z.preserveScroll||!1),D.set(z.location)})),oe(je,D)),oe(me,{activeRoute:m,base:A,routerBase:v,registerRoute:C,unregisterRoute:j}),n.$$set=S=>{"basepath"in S&&e(8,c=S.basepath),"url"in S&&e(9,h=S.url),"viewtransition"in S&&e(0,u=S.viewtransition),"history"in S&&e(10,f=S.history),"$$scope"in S&&e(14,a=S.$$scope)},n.$$.update=()=>{if(n.$$.dirty&8192){const{path:S}=o;p.update(z=>z.map(y=>Object.assign(y,{path:ze(S,y._path)})))}if(n.$$.dirty&6146){const S=Fe(i,s.pathname);m.set(S&&{...S,preserveScroll:M})}},[u,s,r,_,p,m,D,A,c,h,f,M,i,o,a,l]}class Os extends ct{constructor(t){super(),at(this,t,Bs,Us,et,{basepath:8,url:9,viewtransition:0,history:10})}}class Pt extends Error{constructor(t,e){const s=new.target.prototype;super(`${t}: Status code '${e}'`),this.statusCode=e,this.__proto__=s}}class xe extends Error{constructor(t="A timeout occurred."){const e=new.target.prototype;super(t),this.__proto__=e}}class nt extends Error{constructor(t="An abort occurred."){const e=new.target.prototype;super(t),this.__proto__=e}}class Ms extends Error{constructor(t,e){const s=new.target.prototype;super(t),this.transport=e,this.errorType="UnsupportedTransportError",this.__proto__=s}}class Hs extends Error{constructor(t,e){const s=new.target.prototype;super(t),this.transport=e,this.errorType="DisabledTransportError",this.__proto__=s}}class js extends Error{constructor(t,e){const s=new.target.prototype;super(t),this.transport=e,this.errorType="FailedToStartTransportError",this.__proto__=s}}class Ws extends Error{constructor(t){const e=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=e}}class Fs extends Error{constructor(t,e){const s=new.target.prototype;super(t),this.innerErrors=e,this.__proto__=s}}class An{constructor(t,e,s){this.statusCode=t,this.statusText=e,this.content=s}}class se{get(t,e){return this.send({...e,method:"GET",url:t})}post(t,e){return this.send({...e,method:"POST",url:t})}delete(t,e){return this.send({...e,method:"DELETE",url:t})}getCookieString(t){return""}}var d;(function(n){n[n.Trace=0]="Trace",n[n.Debug=1]="Debug",n[n.Information=2]="Information",n[n.Warning=3]="Warning",n[n.Error=4]="Error",n[n.Critical=5]="Critical",n[n.None=6]="None"})(d||(d={}));class Mt{constructor(){}log(t,e){}}Mt.instance=new Mt;const zs="7.0.12";class J{static isRequired(t,e){if(t==null)throw new Error(`The '${e}' argument is required.`)}static isNotEmpty(t,e){if(!t||t.match(/^\s*$/))throw new Error(`The '${e}' argument should not be empty.`)}static isIn(t,e,s){if(!(t in e))throw new Error(`Unknown ${s} value: ${t}.`)}}class G{static get isBrowser(){return typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return typeof self=="object"&&"importScripts"in self}static get isReactNative(){return typeof window=="object"&&typeof window.document>"u"}static get isNode(){return!this.isBrowser&&!this.isWebWorker&&!this.isReactNative}}function Ht(n,t){let e="";return jt(n)?(e=`Binary data of length ${n.byteLength}`,t&&(e+=`. Content: '${qs(n)}'`)):typeof n=="string"&&(e=`String data of length ${n.length}`,t&&(e+=`. Content: '${n}'`)),e}function qs(n){const t=new Uint8Array(n);let e="";return t.forEach(s=>{const i=s<16?"0":"";e+=`0x${i}${s.toString(16)} `}),e.substr(0,e.length-1)}function jt(n){return n&&typeof ArrayBuffer<"u"&&(n instanceof ArrayBuffer||n.constructor&&n.constructor.name==="ArrayBuffer")}async function Rn(n,t,e,s,i,o){const r={},[l,a]=xt();r[l]=a,n.log(d.Trace,`(${t} transport) sending data. ${Ht(i,o.logMessageContent)}.`);const c=jt(i)?"arraybuffer":"text",h=await e.post(s,{content:i,headers:{...r,...o.headers},responseType:c,timeout:o.timeout,withCredentials:o.withCredentials});n.log(d.Trace,`(${t} transport) request complete. Response status: ${h.statusCode}.`)}function Gs(n){return n===void 0?new ee(d.Information):n===null?Mt.instance:n.log!==void 0?n:new ee(n)}class Js{constructor(t,e){this._subject=t,this._observer=e}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(e=>{})}}class ee{constructor(t){this._minLevel=t,this.out=console}log(t,e){if(t>=this._minLevel){const s=`[${new Date().toISOString()}] ${d[t]}: ${e}`;switch(t){case d.Critical:case d.Error:this.out.error(s);break;case d.Warning:this.out.warn(s);break;case d.Information:this.out.info(s);break;default:this.out.log(s);break}}}}function xt(){let n="X-SignalR-User-Agent";return G.isNode&&(n="User-Agent"),[n,Vs(zs,Xs(),Ys(),Ks())]}function Vs(n,t,e,s){let i="Microsoft SignalR/";const o=n.split(".");return i+=`${o[0]}.${o[1]}`,i+=` (${n}; `,t&&t!==""?i+=`${t}; `:i+="Unknown OS; ",i+=`${e}`,s?i+=`; ${s}`:i+="; Unknown Runtime Version",i+=")",i}function Xs(){if(G.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function Ks(){if(G.isNode)return process.versions.node}function Ys(){return G.isNode?"NodeJS":"Browser"}function Ye(n){return n.stack?n.stack:n.message?n.message:`${n}`}function Zs(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class Qs extends se{constructor(t){if(super(),this._logger=t,typeof fetch>"u"){const e=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(e("tough-cookie")).CookieJar,this._fetchType=e("node-fetch"),this._fetchType=e("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(Zs());if(typeof AbortController>"u"){const e=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=e("abort-controller")}else this._abortControllerType=AbortController}async send(t){if(t.abortSignal&&t.abortSignal.aborted)throw new nt;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const e=new this._abortControllerType;let s;t.abortSignal&&(t.abortSignal.onabort=()=>{e.abort(),s=new nt});let i=null;if(t.timeout){const a=t.timeout;i=setTimeout(()=>{e.abort(),this._logger.log(d.Warning,"Timeout from HTTP request."),s=new xe},a)}t.content===""&&(t.content=void 0),t.content&&(t.headers=t.headers||{},jt(t.content)?t.headers["Content-Type"]="application/octet-stream":t.headers["Content-Type"]="text/plain;charset=UTF-8");let o;try{o=await this._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:t.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:e.signal})}catch(a){throw s||(this._logger.log(d.Warning,`Error from HTTP request. ${a}.`),a)}finally{i&&clearTimeout(i),t.abortSignal&&(t.abortSignal.onabort=null)}if(!o.ok){const a=await Ze(o,"text");throw new Pt(a||o.statusText,o.status)}const l=await Ze(o,t.responseType);return new An(o.status,o.statusText,l)}getCookieString(t){let e="";return G.isNode&&this._jar&&this._jar.getCookies(t,(s,i)=>e=i.join("; ")),e}}function Ze(n,t){let e;switch(t){case"arraybuffer":e=n.arrayBuffer();break;case"text":e=n.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`);default:e=n.text();break}return e}class ti extends se{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new nt):t.method?t.url?new Promise((e,s)=>{const i=new XMLHttpRequest;i.open(t.method,t.url,!0),i.withCredentials=t.withCredentials===void 0?!0:t.withCredentials,i.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.content===""&&(t.content=void 0),t.content&&(jt(t.content)?i.setRequestHeader("Content-Type","application/octet-stream"):i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const o=t.headers;o&&Object.keys(o).forEach(r=>{i.setRequestHeader(r,o[r])}),t.responseType&&(i.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{i.abort(),s(new nt)}),t.timeout&&(i.timeout=t.timeout),i.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),i.status>=200&&i.status<300?e(new An(i.status,i.statusText,i.response||i.responseText)):s(new Pt(i.response||i.responseText||i.statusText,i.status))},i.onerror=()=>{this._logger.log(d.Warning,`Error from HTTP request. ${i.status}: ${i.statusText}.`),s(new Pt(i.statusText,i.status))},i.ontimeout=()=>{this._logger.log(d.Warning,"Timeout from HTTP request."),s(new xe)},i.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class ei extends se{constructor(t){if(super(),typeof fetch<"u"||G.isNode)this._httpClient=new Qs(t);else if(typeof XMLHttpRequest<"u")this._httpClient=new ti(t);else throw new Error("No usable HttpClient found.")}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new nt):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}class Q{static write(t){return`${t}${Q.RecordSeparator}`}static parse(t){if(t[t.length-1]!==Q.RecordSeparator)throw new Error("Message is incomplete.");const e=t.split(Q.RecordSeparator);return e.pop(),e}}Q.RecordSeparatorCode=30;Q.RecordSeparator=String.fromCharCode(Q.RecordSeparatorCode);class ni{writeHandshakeRequest(t){return Q.write(JSON.stringify(t))}parseHandshakeResponse(t){let e,s;if(jt(t)){const l=new Uint8Array(t),a=l.indexOf(Q.RecordSeparatorCode);if(a===-1)throw new Error("Message is incomplete.");const c=a+1;e=String.fromCharCode.apply(null,Array.prototype.slice.call(l.slice(0,c))),s=l.byteLength>c?l.slice(c).buffer:null}else{const l=t,a=l.indexOf(Q.RecordSeparator);if(a===-1)throw new Error("Message is incomplete.");const c=a+1;e=l.substring(0,c),s=l.length>c?l.substring(c):null}const i=Q.parse(e),o=JSON.parse(i[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[s,o]}}var O;(function(n){n[n.Invocation=1]="Invocation",n[n.StreamItem=2]="StreamItem",n[n.Completion=3]="Completion",n[n.StreamInvocation=4]="StreamInvocation",n[n.CancelInvocation=5]="CancelInvocation",n[n.Ping=6]="Ping",n[n.Close=7]="Close"})(O||(O={}));class si{constructor(){this.observers=[]}next(t){for(const e of this.observers)e.next(t)}error(t){for(const e of this.observers)e.error&&e.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new Js(this,t)}}const ii=30*1e3,oi=15*1e3;var H;(function(n){n.Disconnected="Disconnected",n.Connecting="Connecting",n.Connected="Connected",n.Disconnecting="Disconnecting",n.Reconnecting="Reconnecting"})(H||(H={}));class De{constructor(t,e,s,i){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(d.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://docs.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},J.isRequired(t,"connection"),J.isRequired(e,"logger"),J.isRequired(s,"protocol"),this.serverTimeoutInMilliseconds=ii,this.keepAliveIntervalInMilliseconds=oi,this._logger=e,this._protocol=s,this.connection=t,this._reconnectPolicy=i,this._handshakeProtocol=new ni,this.connection.onreceive=o=>this._processIncomingData(o),this.connection.onclose=o=>this._connectionClosed(o),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=H.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:O.Ping})}static create(t,e,s,i){return new De(t,e,s,i)}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==H.Disconnected&&this._connectionState!==H.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==H.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=H.Connecting,this._logger.log(d.Debug,"Starting HubConnection.");try{await this._startInternal(),G.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=H.Connected,this._connectionStarted=!0,this._logger.log(d.Debug,"HubConnection connected successfully.")}catch(t){return this._connectionState=H.Disconnected,this._logger.log(d.Debug,`HubConnection failed to start successfully because of error '${t}'.`),Promise.reject(t)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const t=new Promise((e,s)=>{this._handshakeResolver=e,this._handshakeRejecter=s});await this.connection.start(this._protocol.transferFormat);try{const e={protocol:this._protocol.name,version:this._protocol.version};if(this._logger.log(d.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(e)),this._logger.log(d.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await t,this._stopDuringStartError)throw this._stopDuringStartError;this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(e){throw this._logger.log(d.Debug,`Hub handshake failed with error '${e}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(e),e}}async stop(){const t=this._startPromise;this._stopPromise=this._stopInternal(),await this._stopPromise;try{await t}catch{}}_stopInternal(t){return this._connectionState===H.Disconnected?(this._logger.log(d.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve()):this._connectionState===H.Disconnecting?(this._logger.log(d.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise):(this._connectionState=H.Disconnecting,this._logger.log(d.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(d.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new nt("The connection was stopped before the hub handshake could complete."),this.connection.stop(t)))}stream(t,...e){const[s,i]=this._replaceStreamingParams(e),o=this._createStreamInvocation(t,e,i);let r;const l=new si;return l.cancelCallback=()=>{const a=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],r.then(()=>this._sendWithProtocol(a))},this._callbacks[o.invocationId]=(a,c)=>{if(c){l.error(c);return}else a&&(a.type===O.Completion?a.error?l.error(new Error(a.error)):l.complete():l.next(a.item))},r=this._sendWithProtocol(o).catch(a=>{l.error(a),delete this._callbacks[o.invocationId]}),this._launchStreams(s,r),l}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._sendMessage(this._protocol.writeMessage(t))}send(t,...e){const[s,i]=this._replaceStreamingParams(e),o=this._sendWithProtocol(this._createInvocation(t,e,!0,i));return this._launchStreams(s,o),o}invoke(t,...e){const[s,i]=this._replaceStreamingParams(e),o=this._createInvocation(t,e,!1,i);return new Promise((l,a)=>{this._callbacks[o.invocationId]=(h,u)=>{if(u){a(u);return}else h&&(h.type===O.Completion?h.error?a(new Error(h.error)):l(h.result):a(new Error(`Unexpected message type: ${h.type}`)))};const c=this._sendWithProtocol(o).catch(h=>{a(h),delete this._callbacks[o.invocationId]});this._launchStreams(s,c)})}on(t,e){!t||!e||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),this._methods[t].indexOf(e)===-1&&this._methods[t].push(e))}off(t,e){if(!t)return;t=t.toLowerCase();const s=this._methods[t];if(s)if(e){const i=s.indexOf(e);i!==-1&&(s.splice(i,1),s.length===0&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const e=this._protocol.parseMessages(t,this._logger);for(const s of e)switch(s.type){case O.Invocation:this._invokeClientMethod(s);break;case O.StreamItem:case O.Completion:{const i=this._callbacks[s.invocationId];if(i){s.type===O.Completion&&delete this._callbacks[s.invocationId];try{i(s)}catch(o){this._logger.log(d.Error,`Stream callback threw error: ${Ye(o)}`)}}break}case O.Ping:break;case O.Close:{this._logger.log(d.Information,"Close message received from server.");const i=s.error?new Error("Server returned an error on close: "+s.error):void 0;s.allowReconnect===!0?this.connection.stop(i):this._stopPromise=this._stopInternal(i);break}default:this._logger.log(d.Warning,`Invalid message type: ${s.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let e,s;try{[s,e]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(i){const o="Error parsing handshake response: "+i;this._logger.log(d.Error,o);const r=new Error(o);throw this._handshakeRejecter(r),r}if(e.error){const i="Server returned handshake error: "+e.error;this._logger.log(d.Error,i);const o=new Error(i);throw this._handshakeRejecter(o),o}else this._logger.log(d.Debug,"Server handshake complete.");return this._handshakeResolver(),s}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let t=this._nextKeepAlive-new Date().getTime();t<0&&(t=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===H.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},t)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(t){const e=t.target.toLowerCase(),s=this._methods[e];if(!s){this._logger.log(d.Warning,`No client method with the name '${e}' found.`),t.invocationId&&(this._logger.log(d.Warning,`No result given for '${e}' method and invocation ID '${t.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)));return}const i=s.slice(),o=!!t.invocationId;let r,l,a;for(const c of i)try{const h=r;r=await c.apply(this,t.arguments),o&&r&&h&&(this._logger.log(d.Error,`Multiple results provided for '${e}'. Sending error to server.`),a=this._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),l=void 0}catch(h){l=h,this._logger.log(d.Error,`A callback for the method '${e}' threw error '${h}'.`)}a?await this._sendWithProtocol(a):o?(l?a=this._createCompletionMessage(t.invocationId,`${l}`,null):r!==void 0?a=this._createCompletionMessage(t.invocationId,null,r):(this._logger.log(d.Warning,`No result given for '${e}' method and invocation ID '${t.invocationId}'.`),a=this._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(a)):r&&this._logger.log(d.Error,`Result given for '${e}' method but server is not expecting a result.`)}_connectionClosed(t){this._logger.log(d.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new nt("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===H.Disconnecting?this._completeClose(t):this._connectionState===H.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===H.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=H.Disconnected,this._connectionStarted=!1,G.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(e=>e.apply(this,[t]))}catch(e){this._logger.log(d.Error,`An onclose callback called with error '${t}' threw error '${e}'.`)}}}async _reconnect(t){const e=Date.now();let s=0,i=t!==void 0?t:new Error("Attempting to reconnect due to a unknown error."),o=this._getNextRetryDelay(s++,0,i);if(o===null){this._logger.log(d.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(t);return}if(this._connectionState=H.Reconnecting,t?this._logger.log(d.Information,`Connection reconnecting because of error '${t}'.`):this._logger.log(d.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(r=>r.apply(this,[t]))}catch(r){this._logger.log(d.Error,`An onreconnecting callback called with error '${t}' threw error '${r}'.`)}if(this._connectionState!==H.Reconnecting){this._logger.log(d.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;o!==null;){if(this._logger.log(d.Information,`Reconnect attempt number ${s} will start in ${o} ms.`),await new Promise(r=>{this._reconnectDelayHandle=setTimeout(r,o)}),this._reconnectDelayHandle=void 0,this._connectionState!==H.Reconnecting){this._logger.log(d.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=H.Connected,this._logger.log(d.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(r=>r.apply(this,[this.connection.connectionId]))}catch(r){this._logger.log(d.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${r}'.`)}return}catch(r){if(this._logger.log(d.Information,`Reconnect attempt failed because of error '${r}'.`),this._connectionState!==H.Reconnecting){this._logger.log(d.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===H.Disconnecting&&this._completeClose();return}i=r instanceof Error?r:new Error(r.toString()),o=this._getNextRetryDelay(s++,Date.now()-e,i)}}this._logger.log(d.Information,`Reconnect retries have been exhausted after ${Date.now()-e} ms and ${s} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(t,e,s){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:e,previousRetryCount:t,retryReason:s})}catch(i){return this._logger.log(d.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${e}) threw error '${i}'.`),null}}_cancelCallbacksWithError(t){const e=this._callbacks;this._callbacks={},Object.keys(e).forEach(s=>{const i=e[s];try{i(null,t)}catch(o){this._logger.log(d.Error,`Stream 'error' callback called with '${t}' threw error: ${Ye(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,e,s,i){if(s)return i.length!==0?{arguments:e,streamIds:i,target:t,type:O.Invocation}:{arguments:e,target:t,type:O.Invocation};{const o=this._invocationId;return this._invocationId++,i.length!==0?{arguments:e,invocationId:o.toString(),streamIds:i,target:t,type:O.Invocation}:{arguments:e,invocationId:o.toString(),target:t,type:O.Invocation}}}_launchStreams(t,e){if(t.length!==0){e||(e=Promise.resolve());for(const s in t)t[s].subscribe({complete:()=>{e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(s)))},error:i=>{let o;i instanceof Error?o=i.message:i&&i.toString?o=i.toString():o="Unknown error",e=e.then(()=>this._sendWithProtocol(this._createCompletionMessage(s,o)))},next:i=>{e=e.then(()=>this._sendWithProtocol(this._createStreamItemMessage(s,i)))}})}}_replaceStreamingParams(t){const e=[],s=[];for(let i=0;i<t.length;i++){const o=t[i];if(this._isObservable(o)){const r=this._invocationId;this._invocationId++,e[r]=o,s.push(r.toString()),t.splice(i,1)}}return[e,s]}_isObservable(t){return t&&t.subscribe&&typeof t.subscribe=="function"}_createStreamInvocation(t,e,s){const i=this._invocationId;return this._invocationId++,s.length!==0?{arguments:e,invocationId:i.toString(),streamIds:s,target:t,type:O.StreamInvocation}:{arguments:e,invocationId:i.toString(),target:t,type:O.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:O.CancelInvocation}}_createStreamItemMessage(t,e){return{invocationId:t,item:e,type:O.StreamItem}}_createCompletionMessage(t,e,s){return e?{error:e,invocationId:t,type:O.Completion}:{invocationId:t,result:s,type:O.Completion}}}const ri=[0,2e3,1e4,3e4,null];class Qe{constructor(t){this._retryDelays=t!==void 0?[...t,null]:ri}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}class wt{}wt.Authorization="Authorization";wt.Cookie="Cookie";class li extends se{constructor(t,e){super(),this._innerClient=t,this._accessTokenFactory=e}async send(t){let e=!0;this._accessTokenFactory&&(!this._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(e=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(t);const s=await this._innerClient.send(t);return e&&s.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(t),await this._innerClient.send(t)):s}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[wt.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[wt.Authorization]&&delete t.headers[wt.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}}var q;(function(n){n[n.None=0]="None",n[n.WebSockets=1]="WebSockets",n[n.ServerSentEvents=2]="ServerSentEvents",n[n.LongPolling=4]="LongPolling"})(q||(q={}));var V;(function(n){n[n.Text=1]="Text",n[n.Binary=2]="Binary"})(V||(V={}));let ai=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class tn{constructor(t,e,s){this._httpClient=t,this._logger=e,this._pollAbort=new ai,this._options=s,this._running=!1,this.onreceive=null,this.onclose=null}get pollAborted(){return this._pollAbort.aborted}async connect(t,e){if(J.isRequired(t,"url"),J.isRequired(e,"transferFormat"),J.isIn(e,V,"transferFormat"),this._url=t,this._logger.log(d.Trace,"(LongPolling transport) Connecting."),e===V.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[s,i]=xt(),o={[s]:i,...this._options.headers},r={abortSignal:this._pollAbort.signal,headers:o,timeout:1e5,withCredentials:this._options.withCredentials};e===V.Binary&&(r.responseType="arraybuffer");const l=`${t}&_=${Date.now()}`;this._logger.log(d.Trace,`(LongPolling transport) polling: ${l}.`);const a=await this._httpClient.get(l,r);a.statusCode!==200?(this._logger.log(d.Error,`(LongPolling transport) Unexpected response code: ${a.statusCode}.`),this._closeError=new Pt(a.statusText||"",a.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,r)}async _poll(t,e){try{for(;this._running;)try{const s=`${t}&_=${Date.now()}`;this._logger.log(d.Trace,`(LongPolling transport) polling: ${s}.`);const i=await this._httpClient.get(s,e);i.statusCode===204?(this._logger.log(d.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):i.statusCode!==200?(this._logger.log(d.Error,`(LongPolling transport) Unexpected response code: ${i.statusCode}.`),this._closeError=new Pt(i.statusText||"",i.statusCode),this._running=!1):i.content?(this._logger.log(d.Trace,`(LongPolling transport) data received. ${Ht(i.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(i.content)):this._logger.log(d.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(s){this._running?s instanceof xe?this._logger.log(d.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=s,this._running=!1):this._logger.log(d.Trace,`(LongPolling transport) Poll errored after shutdown: ${s.message}`)}}finally{this._logger.log(d.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(t){return this._running?Rn(this._logger,"LongPolling",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(d.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(d.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const t={},[e,s]=xt();t[e]=s;const i={headers:{...t,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};await this._httpClient.delete(this._url,i),this._logger.log(d.Trace,"(LongPolling transport) DELETE request sent.")}finally{this._logger.log(d.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(d.Trace,t),this.onclose(this._closeError)}}}class ci{constructor(t,e,s,i){this._httpClient=t,this._accessToken=e,this._logger=s,this._options=i,this.onreceive=null,this.onclose=null}async connect(t,e){return J.isRequired(t,"url"),J.isRequired(e,"transferFormat"),J.isIn(e,V,"transferFormat"),this._logger.log(d.Trace,"(SSE transport) Connecting."),this._url=t,this._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((s,i)=>{let o=!1;if(e!==V.Text){i(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let r;if(G.isBrowser||G.isWebWorker)r=new this._options.EventSource(t,{withCredentials:this._options.withCredentials});else{const l=this._httpClient.getCookieString(t),a={};a.Cookie=l;const[c,h]=xt();a[c]=h,r=new this._options.EventSource(t,{withCredentials:this._options.withCredentials,headers:{...a,...this._options.headers}})}try{r.onmessage=l=>{if(this.onreceive)try{this._logger.log(d.Trace,`(SSE transport) data received. ${Ht(l.data,this._options.logMessageContent)}.`),this.onreceive(l.data)}catch(a){this._close(a);return}},r.onerror=l=>{o?this._close():i(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},r.onopen=()=>{this._logger.log(d.Information,`SSE connected to ${this._url}`),this._eventSource=r,o=!0,s()}}catch(l){i(l);return}})}async send(t){return this._eventSource?Rn(this._logger,"SSE",this._httpClient,this._url,t,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class hi{constructor(t,e,s,i,o,r){this._logger=s,this._accessTokenFactory=e,this._logMessageContent=i,this._webSocketConstructor=o,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=r}async connect(t,e){J.isRequired(t,"url"),J.isRequired(e,"transferFormat"),J.isIn(e,V,"transferFormat"),this._logger.log(d.Trace,"(WebSockets transport) Connecting.");let s;return this._accessTokenFactory&&(s=await this._accessTokenFactory()),new Promise((i,o)=>{t=t.replace(/^http/,"ws");let r;const l=this._httpClient.getCookieString(t);let a=!1;if(G.isNode||G.isReactNative){const c={},[h,u]=xt();c[h]=u,s&&(c[wt.Authorization]=`Bearer ${s}`),l&&(c[wt.Cookie]=l),r=new this._webSocketConstructor(t,void 0,{headers:{...c,...this._headers}})}else s&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(s)}`);r||(r=new this._webSocketConstructor(t)),e===V.Binary&&(r.binaryType="arraybuffer"),r.onopen=c=>{this._logger.log(d.Information,`WebSocket connected to ${t}.`),this._webSocket=r,a=!0,i()},r.onerror=c=>{let h=null;typeof ErrorEvent<"u"&&c instanceof ErrorEvent?h=c.error:h="There was an error with the transport",this._logger.log(d.Information,`(WebSockets transport) ${h}.`)},r.onmessage=c=>{if(this._logger.log(d.Trace,`(WebSockets transport) data received. ${Ht(c.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(c.data)}catch(h){this._close(h);return}},r.onclose=c=>{if(a)this._close(c);else{let h=null;typeof ErrorEvent<"u"&&c instanceof ErrorEvent?h=c.error:h="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",o(new Error(h))}}})}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(d.Trace,`(WebSockets transport) sending data. ${Ht(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(d.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(t)&&(t.wasClean===!1||t.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)):t instanceof Error?this.onclose(t):this.onclose())}_isCloseEvent(t){return t&&typeof t.wasClean=="boolean"&&typeof t.code=="number"}}const en=100;class ui{constructor(t,e={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,J.isRequired(t,"url"),this._logger=Gs(e.logger),this.baseUrl=this._resolveUrl(t),e=e||{},e.logMessageContent=e.logMessageContent===void 0?!1:e.logMessageContent,typeof e.withCredentials=="boolean"||e.withCredentials===void 0)e.withCredentials=e.withCredentials===void 0?!0:e.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");e.timeout=e.timeout===void 0?100*1e3:e.timeout;let s=null,i=null;if(G.isNode&&typeof require<"u"){const o=typeof __webpack_require__=="function"?__non_webpack_require__:require;s=o("ws"),i=o("eventsource")}!G.isNode&&typeof WebSocket<"u"&&!e.WebSocket?e.WebSocket=WebSocket:G.isNode&&!e.WebSocket&&s&&(e.WebSocket=s),!G.isNode&&typeof EventSource<"u"&&!e.EventSource?e.EventSource=EventSource:G.isNode&&!e.EventSource&&typeof i<"u"&&(e.EventSource=i),this._httpClient=new li(e.httpClient||new ei(this._logger),e.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=e,this.onreceive=null,this.onclose=null}async start(t){if(t=t||V.Binary,J.isIn(t,V,"transferFormat"),this._logger.log(d.Debug,`Starting connection with transfer format '${V[t]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(t),await this._startInternalPromise,this._connectionState==="Disconnecting"){const e="Failed to start the HttpConnection before stop() was called.";return this._logger.log(d.Error,e),await this._stopPromise,Promise.reject(new nt(e))}else if(this._connectionState!=="Connected"){const e="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(d.Error,e),Promise.reject(new nt(e))}this._connectionStarted=!0}send(t){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Ae(this.transport)),this._sendQueue.send(t))}async stop(t){if(this._connectionState==="Disconnected")return this._logger.log(d.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(d.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(e=>{this._stopPromiseResolver=e}),await this._stopInternal(t),await this._stopPromise}async _stopInternal(t){this._stopError=t;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(e){this._logger.log(d.Error,`HttpConnection.transport.stop() threw error '${e}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(d.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(t){let e=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===q.WebSockets)this.transport=this._constructTransport(q.WebSockets),await this._startTransport(e,t);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let s=null,i=0;do{if(s=await this._getNegotiationResponse(e),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new nt("The connection was stopped during negotiation.");if(s.error)throw new Error(s.error);if(s.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(s.url&&(e=s.url),s.accessToken){const o=s.accessToken;this._accessTokenFactory=()=>o,this._httpClient._accessToken=o,this._httpClient._accessTokenFactory=void 0}i++}while(s.url&&i<en);if(i===en&&s.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(e,this._options.transport,s,t)}this.transport instanceof tn&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(d.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(s){return this._logger.log(d.Error,"Failed to start the connection: "+s),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(s)}}async _getNegotiationResponse(t){const e={},[s,i]=xt();e[s]=i;const o=this._resolveNegotiateUrl(t);this._logger.log(d.Debug,`Sending negotiation request: ${o}.`);try{const r=await this._httpClient.post(o,{content:"",headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(r.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${r.statusCode}'`));const l=JSON.parse(r.content);return(!l.negotiateVersion||l.negotiateVersion<1)&&(l.connectionToken=l.connectionId),l}catch(r){let l="Failed to complete negotiation with the server: "+r;return r instanceof Pt&&r.statusCode===404&&(l=l+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(d.Error,l),Promise.reject(new Ws(l))}}_createConnectUrl(t,e){return e?t+(t.indexOf("?")===-1?"?":"&")+`id=${e}`:t}async _createTransport(t,e,s,i){let o=this._createConnectUrl(t,s.connectionToken);if(this._isITransport(e)){this._logger.log(d.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=e,await this._startTransport(o,i),this.connectionId=s.connectionId;return}const r=[],l=s.availableTransports||[];let a=s;for(const c of l){const h=this._resolveTransportOrError(c,e,i);if(h instanceof Error)r.push(`${c.transport} failed:`),r.push(h);else if(this._isITransport(h)){if(this.transport=h,!a){try{a=await this._getNegotiationResponse(t)}catch(u){return Promise.reject(u)}o=this._createConnectUrl(t,a.connectionToken)}try{await this._startTransport(o,i),this.connectionId=a.connectionId;return}catch(u){if(this._logger.log(d.Error,`Failed to start the transport '${c.transport}': ${u}`),a=void 0,r.push(new js(`${c.transport} failed: ${u}`,q[c.transport])),this._connectionState!=="Connecting"){const f="Failed to select transport before stop() was called.";return this._logger.log(d.Debug,f),Promise.reject(new nt(f))}}}}return r.length>0?Promise.reject(new Fs(`Unable to connect to the server with any of the available transports. ${r.join(" ")}`,r)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(t){switch(t){case q.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new hi(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case q.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new ci(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case q.LongPolling:return new tn(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,e){return this.transport.onreceive=this.onreceive,this.transport.onclose=s=>this._stopConnection(s),this.transport.connect(t,e)}_resolveTransportOrError(t,e,s){const i=q[t.transport];if(i==null)return this._logger.log(d.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(fi(e,i))if(t.transferFormats.map(r=>V[r]).indexOf(s)>=0){if(i===q.WebSockets&&!this._options.WebSocket||i===q.ServerSentEvents&&!this._options.EventSource)return this._logger.log(d.Debug,`Skipping transport '${q[i]}' because it is not supported in your environment.'`),new Ms(`'${q[i]}' is not supported in your environment.`,i);this._logger.log(d.Debug,`Selecting transport '${q[i]}'.`);try{return this._constructTransport(i)}catch(r){return r}}else return this._logger.log(d.Debug,`Skipping transport '${q[i]}' because it does not support the requested transfer format '${V[s]}'.`),new Error(`'${q[i]}' does not support ${V[s]}.`);else return this._logger.log(d.Debug,`Skipping transport '${q[i]}' because it was disabled by the client.`),new Hs(`'${q[i]}' is disabled by the client.`,i)}_isITransport(t){return t&&typeof t=="object"&&"connect"in t}_stopConnection(t){if(this._logger.log(d.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(d.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(d.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),t?this._logger.log(d.Error,`Connection disconnected with error '${t}'.`):this._logger.log(d.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(e=>{this._logger.log(d.Error,`TransportSendQueue.stop() threw error '${e}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(e){this._logger.log(d.Error,`HttpConnection.onclose(${t}) threw error '${e}'.`)}}}_resolveUrl(t){if(t.lastIndexOf("https://",0)===0||t.lastIndexOf("http://",0)===0)return t;if(!G.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const e=window.document.createElement("a");return e.href=t,this._logger.log(d.Information,`Normalizing '${t}' to '${e.href}'.`),e.href}_resolveNegotiateUrl(t){const e=t.indexOf("?");let s=t.substring(0,e===-1?t.length:e);return s[s.length-1]!=="/"&&(s+="/"),s+="negotiate",s+=e===-1?"":t.substring(e),s.indexOf("negotiateVersion")===-1&&(s+=e===-1?"?":"&",s+="negotiateVersion="+this._negotiateVersion),s}}function fi(n,t){return!n||(t&n)!==0}class Ae{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new zt,this._transportResult=new zt,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new zt),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new zt;const t=this._transportResult;this._transportResult=void 0;const e=typeof this._buffer[0]=="string"?this._buffer.join(""):Ae._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(e),t.resolve()}catch(s){t.reject(s)}}}static _concatBuffers(t){const e=t.map(o=>o.byteLength).reduce((o,r)=>o+r),s=new Uint8Array(e);let i=0;for(const o of t)s.set(new Uint8Array(o),i),i+=o.byteLength;return s.buffer}}class zt{constructor(){this.promise=new Promise((t,e)=>[this._resolver,this._rejecter]=[t,e])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}const di="json";class _i{constructor(){this.name=di,this.version=1,this.transferFormat=V.Text}parseMessages(t,e){if(typeof t!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];e===null&&(e=Mt.instance);const s=Q.parse(t),i=[];for(const o of s){const r=JSON.parse(o);if(typeof r.type!="number")throw new Error("Invalid payload.");switch(r.type){case O.Invocation:this._isInvocationMessage(r);break;case O.StreamItem:this._isStreamItemMessage(r);break;case O.Completion:this._isCompletionMessage(r);break;case O.Ping:break;case O.Close:break;default:e.log(d.Information,"Unknown message type '"+r.type+"' ignored.");continue}i.push(r)}return i}writeMessage(t){return Q.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),t.invocationId!==void 0&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),t.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_assertNotEmptyString(t,e){if(typeof t!="string"||t==="")throw new Error(e)}}const gi={trace:d.Trace,debug:d.Debug,info:d.Information,information:d.Information,warn:d.Warning,warning:d.Warning,error:d.Error,critical:d.Critical,none:d.None};function pi(n){const t=gi[n.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${n}`)}class Ln{configureLogging(t){if(J.isRequired(t,"logging"),mi(t))this.logger=t;else if(typeof t=="string"){const e=pi(t);this.logger=new ee(e)}else this.logger=new ee(t);return this}withUrl(t,e){return J.isRequired(t,"url"),J.isNotEmpty(t,"url"),this.url=t,typeof e=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...e}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:e},this}withHubProtocol(t){return J.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return t?Array.isArray(t)?this.reconnectPolicy=new Qe(t):this.reconnectPolicy=t:this.reconnectPolicy=new Qe,this}build(){const t=this.httpConnectionOptions||{};if(t.logger===void 0&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const e=new ui(this.url,t);return De.create(e,this.logger||Mt.instance,this.protocol||new _i,this.reconnectPolicy)}}function mi(n){return n.log!==void 0}function bi(n){return n()}function wi(n){n.forEach(bi)}const qt=[],nn=[],Xt=[],sn=[],$n=Promise.resolve();let we=!1;function yi(){we||(we=!0,$n.then(ki))}function vi(){return yi(),$n}function Ci(n){Xt.push(n)}const ce=new Set;let Gt=0;function ki(){do{for(;Gt<qt.length;){const n=qt[Gt];Gt++,Ei(n.$$)}for(qt.length=0,Gt=0;nn.length;)nn.pop()();for(let n=0;n<Xt.length;n+=1){const t=Xt[n];ce.has(t)||(ce.add(t),t())}Xt.length=0}while(qt.length);for(;sn.length;)sn.pop()();we=!1,ce.clear()}function Ei(n){if(n.fragment!==null){n.update(),wi(n.before_update);const t=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,t),n.after_update.forEach(Ci)}}const Si={root:null,rootMargin:"0px",threshold:0,unobserveOnEnter:!1},pt=(n,t)=>new CustomEvent(n,{detail:t});function Nn(n,t={}){const{root:e,rootMargin:s,threshold:i,unobserveOnEnter:o}=Object.assign(Object.assign({},Si),t);let r={x:void 0,y:void 0},l={vertical:void 0,horizontal:void 0};if(typeof IntersectionObserver<"u"&&n){const a=new IntersectionObserver((c,h)=>{c.forEach(u=>{r.y>u.boundingClientRect.y?l.vertical="up":l.vertical="down",r.x>u.boundingClientRect.x?l.horizontal="left":l.horizontal="right",r={y:u.boundingClientRect.y,x:u.boundingClientRect.x};const f={inView:u.isIntersecting,entry:u,scrollDirection:l,node:n,observer:h};n.dispatchEvent(pt("inview_change",f)),n.dispatchEvent(pt("change",f)),u.isIntersecting?(n.dispatchEvent(pt("inview_enter",f)),n.dispatchEvent(pt("enter",f)),o&&h.unobserve(n)):(n.dispatchEvent(pt("inview_leave",f)),n.dispatchEvent(pt("leave",f)))})},{root:e,rootMargin:s,threshold:i});return vi().then(()=>{n.dispatchEvent(pt("inview_init",{observer:a,node:n})),n.dispatchEvent(pt("init",{observer:a,node:n}))}),a.observe(n),{destroy(){a.unobserve(n)}}}}function Ti(n){let t,e,s,i;return{c(){t=I("div"),E(t,"class",e=Ne(n[1]?"spacer-small":"spacer-big")+" svelte-1b6t5dl")},m(o,r){L(o,t,r),n[3](t),s||(i=[Se(Nn.call(null,t)),Z(t,"inview_change",n[2])],s=!0)},p(o,[r]){r&2&&e!==(e=Ne(o[1]?"spacer-small":"spacer-big")+" svelte-1b6t5dl")&&E(t,"class",e)},i:k,o:k,d(o){o&&x(t),n[3](null),s=!1,tt(i)}}}function Ii(n,t,e){let s,i;const o=({detail:l})=>{i||e(1,i=!l.inView)};function r(l){bt[l?"unshift":"push"](()=>{s=l,e(0,s)})}return e(1,i=!1),[s,i,o,r]}class Pi extends ct{constructor(t){super(),at(this,t,Ii,Ti,et,{})}}function xi(n){let t,e,s,i,o;return{c(){t=I("div"),e=F(),s=I("div"),E(t,"class","anchor svelte-2f4clw"),E(s,"class","spacer svelte-2f4clw")},m(r,l){L(r,t,l),n[4](t),L(r,e,l),L(r,s,l),i||(o=[Se(Nn.call(null,t)),Z(t,"inview_change",n[1])],i=!0)},p:k,i:k,o:k,d(r){r&&(x(t),x(e),x(s)),n[4](null),i=!1,tt(o)}}}function Un(){window.scrollTo(0,document.body.scrollHeight||document.documentElement.scrollHeight)}function Di(n,t,e){const s=ts();let i,o;function r(){return i}const l=({detail:c})=>{i=c.inView,s("anchored",i)};function a(c){bt[c?"unshift":"push"](()=>{o=c,e(0,o)})}return i=!1,[o,l,r,Un,a]}class Ai extends ct{constructor(t){super(),at(this,t,Di,xi,et,{isCurrentlyAnchored:2,scrollToBottom:3})}get isCurrentlyAnchored(){return this.$$.ctx[2]}get scrollToBottom(){return Un}}class Ri{constructor(t,e){Y(this,"id");Y(this,"content");Y(this,"cursorPosition");this.id=t,this.content=e,this.cursorPosition=0}appendText(t){let e=t.match(/^\x1b\[([0-9]+)g$/i);if(e&&e.length==2){this.cursorPosition=parseInt(e[1])-1;return}if(e=t.toUpperCase().match(/^\x1b\[([0-9]*[JK])$/),e&&e.length==2){switch(e[1]){case"J":case"0J":this.removeAfterCursor();break;case"1J":this.removeBeforeCursor();break;case"2J":case"3J":this.removeLine();break;case"K":case"0K":this.removeAfterCursor();break;case"1K":this.removeBeforeCursor();break;case"2K":this.removeLine();break}return}this.content+=t,this.cursorPosition=this.content.length}removeAfterCursor(){this.content.substring(this.cursorPosition).indexOf(`
`)>=0||(this.content=this.content.substring(0,this.cursorPosition))}removeBeforeCursor(){this.content=this.content.substring(this.cursorPosition)}removeLine(){this.content.substring(0,1)==`
`?this.content=`
`:this.content=""}}var he=globalThis&&globalThis.__makeTemplateObject||function(n,t){return Object.defineProperty?Object.defineProperty(n,"raw",{value:t}):n.raw=t,n},B;(function(n){n[n.EOS=0]="EOS",n[n.Text=1]="Text",n[n.Incomplete=2]="Incomplete",n[n.ESC=3]="ESC",n[n.Unknown=4]="Unknown",n[n.SGR=5]="SGR",n[n.OSCURL=6]="OSCURL"})(B||(B={}));class Li{constructor(){this.VERSION="6.0.2",this.setup_palettes(),this._use_classes=!1,this.bold=!1,this.faint=!1,this.italic=!1,this.underline=!1,this.fg=this.bg=null,this._buffer="",this._url_allowlist={http:1,https:1},this._escape_html=!0,this.boldStyle="font-weight:bold",this.faintStyle="opacity:0.7",this.italicStyle="font-style:italic",this.underlineStyle="text-decoration:underline"}set use_classes(t){this._use_classes=t}get use_classes(){return this._use_classes}set url_allowlist(t){this._url_allowlist=t}get url_allowlist(){return this._url_allowlist}set escape_html(t){this._escape_html=t}get escape_html(){return this._escape_html}set boldStyle(t){this._boldStyle=t}get boldStyle(){return this._boldStyle}set faintStyle(t){this._faintStyle=t}get faintStyle(){return this._faintStyle}set italicStyle(t){this._italicStyle=t}get italicStyle(){return this._italicStyle}set underlineStyle(t){this._underlineStyle=t}get underlineStyle(){return this._underlineStyle}setup_palettes(){this.ansi_colors=[[{rgb:[0,0,0],class_name:"ansi-black"},{rgb:[187,0,0],class_name:"ansi-red"},{rgb:[0,187,0],class_name:"ansi-green"},{rgb:[187,187,0],class_name:"ansi-yellow"},{rgb:[0,0,187],class_name:"ansi-blue"},{rgb:[187,0,187],class_name:"ansi-magenta"},{rgb:[0,187,187],class_name:"ansi-cyan"},{rgb:[255,255,255],class_name:"ansi-white"}],[{rgb:[85,85,85],class_name:"ansi-bright-black"},{rgb:[255,85,85],class_name:"ansi-bright-red"},{rgb:[0,255,0],class_name:"ansi-bright-green"},{rgb:[255,255,85],class_name:"ansi-bright-yellow"},{rgb:[85,85,255],class_name:"ansi-bright-blue"},{rgb:[255,85,255],class_name:"ansi-bright-magenta"},{rgb:[85,255,255],class_name:"ansi-bright-cyan"},{rgb:[255,255,255],class_name:"ansi-bright-white"}]],this.palette_256=[],this.ansi_colors.forEach(s=>{s.forEach(i=>{this.palette_256.push(i)})});let t=[0,95,135,175,215,255];for(let s=0;s<6;++s)for(let i=0;i<6;++i)for(let o=0;o<6;++o){let r={rgb:[t[s],t[i],t[o]],class_name:"truecolor"};this.palette_256.push(r)}let e=8;for(let s=0;s<24;++s,e+=10){let i={rgb:[e,e,e],class_name:"truecolor"};this.palette_256.push(i)}}escape_txt_for_html(t){return this._escape_html?t.replace(/[&<>"']/gm,e=>{if(e==="&")return"&amp;";if(e==="<")return"&lt;";if(e===">")return"&gt;";if(e==='"')return"&quot;";if(e==="'")return"&#x27;"}):t}append_buffer(t){var e=this._buffer+t;this._buffer=e}get_next_packet(){var t={kind:B.EOS,text:"",url:""},e=this._buffer.length;if(e==0)return t;var s=this._buffer.indexOf("\x1B");if(s==-1)return t.kind=B.Text,t.text=this._buffer,this._buffer="",t;if(s>0)return t.kind=B.Text,t.text=this._buffer.slice(0,s),this._buffer=this._buffer.slice(s),t;if(s==0){if(e<3)return t.kind=B.Incomplete,t;var i=this._buffer.charAt(1);if(i!="["&&i!="]"&&i!="(")return t.kind=B.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;if(i=="["){this._csi_regex||(this._csi_regex=on(rn||(rn=he([`
                        ^                           # beginning of line
                                                    #
                                                    # First attempt
                        (?:                         # legal sequence
                          \x1B[                      # CSI
                          ([<-?]?)              # private-mode char
                          ([d;]*)                    # any digits or semicolons
                          ([ -/]?               # an intermediate modifier
                          [@-~])                # the command
                        )
                        |                           # alternate (second attempt)
                        (?:                         # illegal sequence
                          \x1B[                      # CSI
                          [ -~]*                # anything legal
                          ([\0-:])              # anything illegal
                        )
                    `],[`
                        ^                           # beginning of line
                                                    #
                                                    # First attempt
                        (?:                         # legal sequence
                          \\x1b\\[                      # CSI
                          ([\\x3c-\\x3f]?)              # private-mode char
                          ([\\d;]*)                    # any digits or semicolons
                          ([\\x20-\\x2f]?               # an intermediate modifier
                          [\\x40-\\x7e])                # the command
                        )
                        |                           # alternate (second attempt)
                        (?:                         # illegal sequence
                          \\x1b\\[                      # CSI
                          [\\x20-\\x7e]*                # anything legal
                          ([\\x00-\\x1f:])              # anything illegal
                        )
                    `]))));let r=this._buffer.match(this._csi_regex);if(r===null)return t.kind=B.Incomplete,t;if(r[4])return t.kind=B.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;r[1]!=""||r[3]!="m"?t.kind=B.Unknown:t.kind=B.SGR,t.text=r[2];var o=r[0].length;return this._buffer=this._buffer.slice(o),t}else if(i=="]"){if(e<4)return t.kind=B.Incomplete,t;if(this._buffer.charAt(2)!="8"||this._buffer.charAt(3)!=";")return t.kind=B.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;this._osc_st||(this._osc_st=$i(ln||(ln=he([`
                        (?:                         # legal sequence
                          (\x1B\\)                    # ESC                           |                           # alternate
                          (\x07)                      # BEL (what xterm did)
                        )
                        |                           # alternate (second attempt)
                        (                           # illegal sequence
                          [\0-]                 # anything illegal
                          |                           # alternate
                          [\b-]                 # anything illegal
                          |                           # alternate
                          [-]                 # anything illegal
                        )
                    `],[`
                        (?:                         # legal sequence
                          (\\x1b\\\\)                    # ESC \\
                          |                           # alternate
                          (\\x07)                      # BEL (what xterm did)
                        )
                        |                           # alternate (second attempt)
                        (                           # illegal sequence
                          [\\x00-\\x06]                 # anything illegal
                          |                           # alternate
                          [\\x08-\\x1a]                 # anything illegal
                          |                           # alternate
                          [\\x1c-\\x1f]                 # anything illegal
                        )
                    `])))),this._osc_st.lastIndex=0;{let a=this._osc_st.exec(this._buffer);if(a===null)return t.kind=B.Incomplete,t;if(a[3])return t.kind=B.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t}{let a=this._osc_st.exec(this._buffer);if(a===null)return t.kind=B.Incomplete,t;if(a[3])return t.kind=B.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t}this._osc_regex||(this._osc_regex=on(an||(an=he([`
                        ^                           # beginning of line
                                                    #
                        \x1B]8;                    # OSC Hyperlink
                        [ -:<-~]*       # params (excluding ;)
                        ;                           # end of params
                        ([!-~]{0,512})        # URL capture
                        (?:                         # ST
                          (?:\x1B\\)                  # ESC                           |                           # alternate
                          (?:\x07)                    # BEL (what xterm did)
                        )
                        ([ -~]+)              # TEXT capture
                        \x1B]8;;                   # OSC Hyperlink End
                        (?:                         # ST
                          (?:\x1B\\)                  # ESC                           |                           # alternate
                          (?:\x07)                    # BEL (what xterm did)
                        )
                    `],[`
                        ^                           # beginning of line
                                                    #
                        \\x1b\\]8;                    # OSC Hyperlink
                        [\\x20-\\x3a\\x3c-\\x7e]*       # params (excluding ;)
                        ;                           # end of params
                        ([\\x21-\\x7e]{0,512})        # URL capture
                        (?:                         # ST
                          (?:\\x1b\\\\)                  # ESC \\
                          |                           # alternate
                          (?:\\x07)                    # BEL (what xterm did)
                        )
                        ([\\x20-\\x7e]+)              # TEXT capture
                        \\x1b\\]8;;                   # OSC Hyperlink End
                        (?:                         # ST
                          (?:\\x1b\\\\)                  # ESC \\
                          |                           # alternate
                          (?:\\x07)                    # BEL (what xterm did)
                        )
                    `]))));let r=this._buffer.match(this._osc_regex);if(r===null)return t.kind=B.ESC,t.text=this._buffer.slice(0,1),this._buffer=this._buffer.slice(1),t;t.kind=B.OSCURL,t.url=r[1],t.text=r[2];var o=r[0].length;return this._buffer=this._buffer.slice(o),t}else if(i=="(")return t.kind=B.Unknown,this._buffer=this._buffer.slice(3),t}}ansi_to_html(t){this.append_buffer(t);for(var e=[];;){var s=this.get_next_packet();if(s.kind==B.EOS||s.kind==B.Incomplete)break;s.kind==B.ESC||s.kind==B.Unknown||(s.kind==B.Text?e.push(this.transform_to_html(this.with_state(s))):s.kind==B.SGR?this.process_ansi(s):s.kind==B.OSCURL&&e.push(this.process_hyperlink(s)))}return e.join("")}with_state(t){return{bold:this.bold,faint:this.faint,italic:this.italic,underline:this.underline,fg:this.fg,bg:this.bg,text:t.text}}process_ansi(t){let e=t.text.split(";");for(;e.length>0;){let s=e.shift(),i=parseInt(s,10);if(isNaN(i)||i===0)this.fg=null,this.bg=null,this.bold=!1,this.faint=!1,this.italic=!1,this.underline=!1;else if(i===1)this.bold=!0;else if(i===2)this.faint=!0;else if(i===3)this.italic=!0;else if(i===4)this.underline=!0;else if(i===21)this.bold=!1;else if(i===22)this.faint=!1,this.bold=!1;else if(i===23)this.italic=!1;else if(i===24)this.underline=!1;else if(i===39)this.fg=null;else if(i===49)this.bg=null;else if(i>=30&&i<38)this.fg=this.ansi_colors[0][i-30];else if(i>=40&&i<48)this.bg=this.ansi_colors[0][i-40];else if(i>=90&&i<98)this.fg=this.ansi_colors[1][i-90];else if(i>=100&&i<108)this.bg=this.ansi_colors[1][i-100];else if((i===38||i===48)&&e.length>0){let o=i===38,r=e.shift();if(r==="5"&&e.length>0){let l=parseInt(e.shift(),10);l>=0&&l<=255&&(o?this.fg=this.palette_256[l]:this.bg=this.palette_256[l])}if(r==="2"&&e.length>2){let l=parseInt(e.shift(),10),a=parseInt(e.shift(),10),c=parseInt(e.shift(),10);if(l>=0&&l<=255&&a>=0&&a<=255&&c>=0&&c<=255){let h={rgb:[l,a,c],class_name:"truecolor"};o?this.fg=h:this.bg=h}}}}}transform_to_html(t){let e=t.text;if(e.length===0||(e=this.escape_txt_for_html(e),!t.bold&&!t.italic&&!t.underline&&t.fg===null&&t.bg===null))return e;let s=[],i=[],o=t.fg,r=t.bg;t.bold&&s.push(this._boldStyle),t.faint&&s.push(this._faintStyle),t.italic&&s.push(this._italicStyle),t.underline&&s.push(this._underlineStyle),this._use_classes?(o&&(o.class_name!=="truecolor"?i.push(`${o.class_name}-fg`):s.push(`color:rgb(${o.rgb.join(",")})`)),r&&(r.class_name!=="truecolor"?i.push(`${r.class_name}-bg`):s.push(`background-color:rgb(${r.rgb.join(",")})`))):(o&&s.push(`color:rgb(${o.rgb.join(",")})`),r&&s.push(`background-color:rgb(${r.rgb})`));let l="",a="";return i.length&&(l=` class="${i.join(" ")}"`),s.length&&(a=` style="${s.join(";")}"`),`<span${a}${l}>${e}</span>`}process_hyperlink(t){let e=t.url.split(":");return e.length<1||!this._url_allowlist[e[0]]?"":`<a href="${this.escape_txt_for_html(t.url)}">${this.escape_txt_for_html(t.text)}</a>`}}function on(n,...t){let e=n.raw[0],s=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,i=e.replace(s,"");return new RegExp(i)}function $i(n,...t){let e=n.raw[0],s=/^\s+|\s+\n|\s*#[\s\S]*?\n|\n/gm,i=e.replace(s,"");return new RegExp(i,"g")}var rn,ln,an;function Ni(n){let t,e=cn.ansi_to_html(n[0].content)+"",s;return{c(){t=I("span"),E(t,"id",s=`span_${n[0].id}`)},m(i,o){L(i,t,o),t.innerHTML=e},p(i,[o]){o&1&&e!==(e=cn.ansi_to_html(i[0].content)+"")&&(t.innerHTML=e),o&1&&s!==(s=`span_${i[0].id}`)&&E(t,"id",s)},i:k,o:k,d(i){i&&x(t)}}}const cn=new Li;function Ui(n,t,e){let{line:s}=t;return n.$$set=i=>{"line"in i&&e(0,s=i.line)},[s]}class Bi extends ct{constructor(t){super(),at(this,t,Ui,Ni,et,{line:0})}}function hn(n){let t,e,s;return{c(){t=I("button"),t.innerHTML='Latest <img alt="" src="/logo_white.svg" class="svelte-1kqed01"/>',E(t,"class","svelte-1kqed01")},m(i,o){L(i,t,o),n[3](t),e||(s=Z(t,"click",n[2]),e=!0)},p:k,d(i){i&&x(t),n[3](null),e=!1,s()}}}function Oi(n){let t,e,s,i=n[0]&&hn(n);return{c(){t=I("div"),e=F(),s=I("div"),i&&i.c(),E(t,"class","bottomSpacer svelte-1kqed01"),E(s,"class","latest svelte-1kqed01")},m(o,r){L(o,t,r),L(o,e,r),L(o,s,r),i&&i.m(s,null)},p(o,[r]){o[0]?i?i.p(o,r):(i=hn(o),i.c(),i.m(s,null)):i&&(i.d(1),i=null)},i:k,o:k,d(o){o&&(x(t),x(e),x(s)),i&&i.d()}}}function Mi(n,t,e){let{visible:s}=t,i;function o(){window.scrollTo(0,document.body.scrollHeight||document.documentElement.scrollHeight),e(0,s=!1)}function r(l){bt[l?"unshift":"push"](()=>{i=l,e(1,i)})}return n.$$set=l=>{"visible"in l&&e(0,s=l.visible)},[s,i,o,r]}class Hi extends ct{constructor(t){super(),at(this,t,Mi,Oi,et,{visible:0})}}function un(n,t,e){const s=n.slice();return s[13]=t[e],s[14]=t,s[15]=e,s}function fn(n){let t,e,s;function i(r){n[4](r,n[13],n[14],n[15])}let o={};return n[13]!==void 0&&(o.line=n[13]),t=new Bi({props:o}),bt.push(()=>cs(t,"line",i)),{c(){lt(t.$$.fragment)},m(r,l){st(t,r,l),s=!0},p(r,l){n=r;const a={};!e&&l&2&&(e=!0,a.line=n[13],ss(()=>e=!1)),t.$set(a)},i(r){s||($(t.$$.fragment,r),s=!0)},o(r){U(t.$$.fragment,r),s=!1},d(r){it(t,r)}}}function ji(n){let t,e,s,i,o,r,l;e=new Pi({});let a=Me(n[1]),c=[];for(let f=0;f<a.length;f+=1)c[f]=fn(un(n,a,f));const h=f=>U(c[f],1,1,()=>{c[f]=null});let u={};return i=new Ai({props:u}),n[5](i),i.$on("anchored",n[3]),r=new Hi({props:{visible:n[2]}}),{c(){t=I("pre"),lt(e.$$.fragment);for(let f=0;f<c.length;f+=1)c[f].c();s=dt(),lt(i.$$.fragment),o=F(),lt(r.$$.fragment),E(t,"class","svelte-g021qu")},m(f,_){L(f,t,_),st(e,t,null);for(let g=0;g<c.length;g+=1)c[g]&&c[g].m(t,null);R(t,s),st(i,t,null),L(f,o,_),st(r,f,_),l=!0},p(f,[_]){if(_&2){a=Me(f[1]);let p;for(p=0;p<a.length;p+=1){const m=un(f,a,p);c[p]?(c[p].p(m,_),$(c[p],1)):(c[p]=fn(m),c[p].c(),$(c[p],1),c[p].m(t,s))}for(_t(),p=a.length;p<c.length;p+=1)h(p);gt()}const g={};i.$set(g);const b={};_&4&&(b.visible=f[2]),r.$set(b)},i(f){if(!l){$(e.$$.fragment,f);for(let _=0;_<a.length;_+=1)$(c[_]);$(i.$$.fragment,f),$(r.$$.fragment,f),l=!0}},o(f){U(e.$$.fragment,f),c=c.filter(Boolean);for(let _=0;_<c.length;_+=1)U(c[_]);U(i.$$.fragment,f),U(r.$$.fragment,f),l=!1},d(f){f&&(x(t),x(o)),it(e),Gn(c,f),n[5](null),it(i),it(r,f)}}}const dn=1e3;function Wi(n,t,e){let s,i,o,r=0,l=0,a,c=!1;const h=window.location.pathname.replace("/",""),u=new Ln().withUrl("/api/tail").configureLogging(d.Information).build();async function f(){try{await u.start(),await u.invoke("Join",h),console.log(`Connected to tail '${h}' and awaiting data..`)}catch(p){console.log(p),setTimeout(f,5e3)}}u.onclose(async()=>{await f()}),u.on("ReceiveData",p=>{const m=p.split(`
`);for(let w=0;w<m.length;w++)w!=m.length-1&&(m[w]+=`
`),o?(o.appendText(m[w]),e(1,i),m[w].indexOf(`
`)!=-1&&(o=void 0)):(s.isCurrentlyAnchored()&&(l=Date.now()+250),o=new Ri(r,m[w]),i.push(o),r++,i.length>dn?e(1,i=i.slice(dn*-1)):e(1,i),Date.now()<l&&s.scrollToBottom())}),Ie(async()=>{s.scrollToBottom(),await f()});function _(p){e(2,a=!p.detail),!c&&i.length==0&&a&&(c=!0,s.scrollToBottom())}function g(p,m,w,D){w[D]=p,e(1,i)}function b(p){bt[p?"unshift":"push"](()=>{s=p,e(0,s)})}return e(1,i=[]),e(2,a=!1),[s,i,a,_,g,b]}class Fi extends ct{constructor(t){super(),at(this,t,Wi,ji,et,{})}}const zi="modulepreload",qi=function(n){return"/"+n},_n={},Gi=function(t,e,s){if(!e||e.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(e.map(o=>{if(o=qi(o),o in _n)return;_n[o]=!0;const r=o.endsWith(".css"),l=r?'[rel="stylesheet"]':"";if(!!s)for(let h=i.length-1;h>=0;h--){const u=i[h];if(u.href===o&&(!r||u.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${l}`))return;const c=document.createElement("link");if(c.rel=r?"stylesheet":zi,r||(c.as="script",c.crossOrigin=""),c.href=o,document.head.appendChild(c),r)return new Promise((h,u)=>{c.addEventListener("load",h),c.addEventListener("error",()=>u(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=o,window.dispatchEvent(r),!r.defaultPrevented)throw o})};class gn{constructor(t,e,s){Y(this,"id");Y(this,"type");Y(this,"value");this.id=t,this.type=e,this.value=s}}let Bt=0,Kt=0,ye=-1,ne=!1,$t=0,Jt;const Ji=new TextDecoder;onmessage=async n=>{const t=n.data;t.type==="start"?(Bt=0,Kt=0,ye=-1,ne=!0,await Vi(t.id,t.value)):t.type==="stop"&&(ne=!1,console.log(`Total restarts: ${ye}`))};async function Vi(n,t){try{for(Jt=new Ln().withUrl("/api/tail").configureLogging(d.Warning).build(),await Jt.start();ne;)try{ye++;const e=await t.getFile(),s=e.size;if(s==Kt){$t=$t==5e3?5e3:$t+500,await new Promise((l,a)=>setTimeout(l,$t));continue}else s<Kt&&s>0&&(Bt=0);$t=0,Kt=s;const o=e.stream().getReader();let r=0;for(;ne;){const{done:l,value:a}=await o.read();if(a&&(r+=a.length,r>Bt&&(Jt.invoke("SendData",n,Ji.decode(a.slice(Bt-r))),Bt=r)),l)break}}catch(e){if(e.message!=="network error")throw e}}catch(e){console.log(e)}finally{await Jt.stop()}}const ue=[[17,14,11,7],[32,26,20,14],[53,42,32,24],[78,62,46,34],[106,84,60,44],[134,106,74,58],[154,122,86,64],[192,152,108,84],[230,180,130,98],[271,213,151,119],[321,251,177,137],[367,287,203,155],[425,331,241,177],[458,362,258,194],[520,412,292,220],[586,450,322,250],[644,504,364,280],[718,560,394,310],[792,624,442,338],[858,666,482,382],[929,711,509,403],[1003,779,565,439],[1091,857,611,461],[1171,911,661,511],[1273,997,715,535],[1367,1059,751,593],[1465,1125,805,625],[1528,1190,868,658],[1628,1264,908,698],[1732,1370,982,742],[1840,1452,1030,790],[1952,1538,1112,842],[2068,1628,1168,898],[2188,1722,1228,958],[2303,1809,1283,983],[2431,1911,1351,1051],[2563,1989,1423,1093],[2699,2099,1499,1139],[2809,2213,1579,1219],[2953,2331,1663,1273]];var K;(function(n){n[n.MODE_NUMBER=1]="MODE_NUMBER",n[n.MODE_ALPHA_NUM=2]="MODE_ALPHA_NUM",n[n.MODE_8BIT_BYTE=4]="MODE_8BIT_BYTE",n[n.MODE_KANJI=8]="MODE_KANJI"})(K||(K={}));var rt;(function(n){n[n.L=1]="L",n[n.M=0]="M",n[n.Q=3]="Q",n[n.H=2]="H"})(rt||(rt={}));var ot;(function(n){n[n.PATTERN000=0]="PATTERN000",n[n.PATTERN001=1]="PATTERN001",n[n.PATTERN010=2]="PATTERN010",n[n.PATTERN011=3]="PATTERN011",n[n.PATTERN100=4]="PATTERN100",n[n.PATTERN101=5]="PATTERN101",n[n.PATTERN110=6]="PATTERN110",n[n.PATTERN111=7]="PATTERN111"})(ot||(ot={}));class Xi{constructor(){this.buffer=[],this.length=0}get(t){const e=Math.floor(t/8);return(this.buffer[e]>>>7-t%8&1)==1}put(t,e){for(let s=0;s<e;s++)this.putBit((t>>>e-s-1&1)==1)}getLengthInBits(){return this.length}putBit(t){const e=Math.floor(this.length/8);this.buffer.length<=e&&this.buffer.push(0),t&&(this.buffer[e]|=128>>>this.length%8),this.length++}}class Re{constructor(t,e){this.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],this.totalCount=t,this.dataCount=e}getRSBlocks(t,e){const s=this.getRsBlockTable(t,e);if(s==null)throw new Error("bad rs block @ typeNumber:"+t+"/errorCorrectLevel:"+e);const i=s.length/3,o=[];for(let r=0;r<i;r++){const l=s[r*3+0],a=s[r*3+1],c=s[r*3+2];for(let h=0;h<l;h++)o.push(new Re(a,c))}return o}getRsBlockTable(t,e){switch(e){case rt.L:return this.RS_BLOCK_TABLE[(t-1)*4+0];case rt.M:return this.RS_BLOCK_TABLE[(t-1)*4+1];case rt.Q:return this.RS_BLOCK_TABLE[(t-1)*4+2];case rt.H:return this.RS_BLOCK_TABLE[(t-1)*4+3];default:return}}}class Ki{constructor(t){this.mode=K.MODE_8BIT_BYTE,this.data=t,this.parsedData=[];for(let e=0,s=this.data.length;e<s;e++){const i=[],o=this.data.charCodeAt(e);o>65536?(i[0]=240|(o&1835008)>>>18,i[1]=128|(o&258048)>>>12,i[2]=128|(o&4032)>>>6,i[3]=128|o&63):o>2048?(i[0]=224|(o&61440)>>>12,i[1]=128|(o&4032)>>>6,i[2]=128|o&63):o>128?(i[0]=192|(o&1984)>>>6,i[1]=128|o&63):i[0]=o,this.parsedData.push(...i)}this.parsedData=Array.prototype.concat.apply([],this.parsedData),this.parsedData.length!=this.data.length&&(this.parsedData.unshift(191),this.parsedData.unshift(187),this.parsedData.unshift(239))}getLength(){return this.parsedData.length}write(t){for(let e=0,s=this.parsedData.length;e<s;e++)t.put(this.parsedData[e],8)}}class Bn{constructor(){this.EXP_TABLE=new Array(256),this.LOG_TABLE=new Array(256);for(let t=0;t<8;t++)this.EXP_TABLE[t]=1<<t;for(let t=8;t<256;t++)this.EXP_TABLE[t]=this.EXP_TABLE[t-4]^this.EXP_TABLE[t-5]^this.EXP_TABLE[t-6]^this.EXP_TABLE[t-8];for(let t=0;t<255;t++)this.LOG_TABLE[this.EXP_TABLE[t]]=t}glog(t){if(t<1)throw new Error("glog("+t+")");return this.LOG_TABLE[t]}gexp(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return this.EXP_TABLE[t]}}class Dt{constructor(t,e){if(this.qrMath=new Bn,t.length==null)throw new Error(t.length+"/"+e);let s=0;for(;s<t.length&&t[s]==0;)s++;this.num=new Array(t.length-s+e);for(let i=0;i<t.length-s;i++)this.num[i]=t[i+s]}get(t){return this.num[t]}getLength(){return this.num.length}multiply(t){const e=new Array(this.getLength()+t.getLength()-1);for(let s=0;s<this.getLength();s++)for(let i=0;i<t.getLength();i++)e[s+i]^=this.qrMath.gexp(this.qrMath.glog(this.get(s))+this.qrMath.glog(t.get(i)));return new Dt(e,0)}mod(t){if(this.getLength()-t.getLength()<0)return this;const e=this.qrMath.glog(this.get(0))-this.qrMath.glog(t.get(0)),s=new Array(this.getLength());for(let i=0;i<this.getLength();i++)s[i]=this.get(i);for(let i=0;i<t.getLength();i++)s[i]^=this.qrMath.gexp(this.qrMath.glog(t.get(i))+e);return new Dt(s,0).mod(t)}}class Yi{constructor(t,e){this.qrUtil=new Zi,this.PAD0=236,this.PAD1=17,this.typeNumber=t,this.errorCorrectLevel=e,this.modules=[],this.moduleCount=0,this.dataCache=[],this.dataList=[]}addData(t){const e=new Ki(t);this.dataList.push(e),this.dataCache=[]}isDark(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]}getModuleCount(){return this.moduleCount}makeImpl(t,e){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(let s=0;s<this.moduleCount;s++){this.modules[s]=new Array(this.moduleCount);for(let i=0;i<this.moduleCount;i++)this.modules[s][i]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),this.dataCache.length==0&&(this.dataCache=this.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)}getBestMaskPattern(){let t=0,e=0;for(let s=0;s<8;s++){this.makeImpl(!0,s);const i=this.qrUtil.getLostPoint(this);(s==0||t>i)&&(t=i,e=s)}return e}make(){this.makeImpl(!1,this.getBestMaskPattern())}setupPositionProbePattern(t,e){for(let s=-1;s<=7;s++)if(!(t+s<=-1||this.moduleCount<=t+s))for(let i=-1;i<=7;i++)e+i<=-1||this.moduleCount<=e+i||(0<=s&&s<=6&&(i==0||i==6)||0<=i&&i<=6&&(s==0||s==6)||2<=s&&s<=4&&2<=i&&i<=4?this.modules[t+s][e+i]=!0:this.modules[t+s][e+i]=!1)}setupTimingPattern(){for(let t=8;t<this.moduleCount-8;t++)this.modules[t][6]==null&&(this.modules[t][6]=t%2==0);for(let t=8;t<this.moduleCount-8;t++)this.modules[6][t]==null&&(this.modules[6][t]=t%2==0)}setupPositionAdjustPattern(){const t=this.qrUtil.getPatternPosition(this.typeNumber);for(let e=0;e<t.length;e++)for(let s=0;s<t.length;s++){const i=t[e],o=t[s];if(this.modules[i][o]==null)for(let r=-2;r<=2;r++)for(let l=-2;l<=2;l++)r==-2||r==2||l==-2||l==2||r==0&&l==0?this.modules[i+r][o+l]=!0:this.modules[i+r][o+l]=!1}}setupTypeNumber(t){const e=this.qrUtil.getBCHTypeNumber(this.typeNumber);for(let s=0;s<18;s++){const i=!t&&(e>>s&1)==1;this.modules[Math.floor(s/3)][s%3+this.moduleCount-8-3]=i}for(let s=0;s<18;s++){const i=!t&&(e>>s&1)==1;this.modules[s%3+this.moduleCount-8-3][Math.floor(s/3)]=i}}setupTypeInfo(t,e){const s=this.errorCorrectLevel<<3|e,i=this.qrUtil.getBCHTypeInfo(s);for(let o=0;o<15;o++){const r=!t&&(i>>o&1)==1;o<6?this.modules[o][8]=r:o<8?this.modules[o+1][8]=r:this.modules[this.moduleCount-15+o][8]=r}for(let o=0;o<15;o++){const r=!t&&(i>>o&1)==1;o<8?this.modules[8][this.moduleCount-o-1]=r:o<9?this.modules[8][15-o-1+1]=r:this.modules[8][15-o-1]=r}this.modules[this.moduleCount-8][8]=!t}mapData(t,e){let s=-1,i=this.moduleCount-1,o=7,r=0;for(let l=this.moduleCount-1;l>0;l-=2)for(l==6&&l--;;){for(let a=0;a<2;a++)if(this.modules[i][l-a]==null){let c=!1;r<t.length&&(c=(t[r]>>>o&1)==1),this.qrUtil.getMask(e,i,l-a)&&(c=!c),this.modules[i][l-a]=c,o--,o==-1&&(r++,o=7)}if(i+=s,i<0||this.moduleCount<=i){i-=s,s=-s;break}}}createData(t,e,s){const o=new Re(0,0).getRSBlocks(t,e),r=new Xi;for(let a=0;a<s.length;a++){const c=s[a];r.put(c.mode,4),r.put(c.getLength(),this.qrUtil.getLengthInBits(c.mode,t)),c.write(r)}let l=0;for(let a=0;a<o.length;a++)l+=o[a].dataCount;if(r.getLengthInBits()>l*8)throw new Error("code length overflow. ("+r.getLengthInBits()+">"+l*8+")");for(r.getLengthInBits()+4<=l*8&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(!1);for(;!(r.getLengthInBits()>=l*8||(r.put(this.PAD0,8),r.getLengthInBits()>=l*8));)r.put(this.PAD1,8);return this.createBytes(r,o)}createBytes(t,e){let s=0,i=0,o=0;const r=new Array(e.length),l=new Array(e.length);for(let u=0;u<e.length;u++){const f=e[u].dataCount,_=e[u].totalCount-f;i=Math.max(i,f),o=Math.max(o,_),r[u]=new Array(f);for(let m=0;m<r[u].length;m++)r[u][m]=255&t.buffer[m+s];s+=f;const g=this.qrUtil.getErrorCorrectPolynomial(_),p=new Dt(r[u],g.getLength()-1).mod(g);l[u]=new Array(g.getLength()-1);for(let m=0;m<l[u].length;m++){const w=m+p.getLength()-l[u].length;l[u][m]=w>=0?p.get(w):0}}let a=0;for(let u=0;u<e.length;u++)a+=e[u].totalCount;const c=new Array(a);let h=0;for(let u=0;u<i;u++)for(let f=0;f<e.length;f++)u<r[f].length&&(c[h++]=r[f][u]);for(let u=0;u<o;u++)for(let f=0;f<e.length;f++)u<l[f].length&&(c[h++]=l[f][u]);return c}}class Zi{constructor(){this.data={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522}}getBCHTypeInfo(t){let e=t<<10;for(;this.getBCHDigit(e)-this.getBCHDigit(this.data.G15)>=0;)e^=this.data.G15<<this.getBCHDigit(e)-this.getBCHDigit(this.data.G15);return(t<<10|e)^this.data.G15_MASK}getBCHTypeNumber(t){let e=t<<12;for(;this.getBCHDigit(e)-this.getBCHDigit(this.data.G18)>=0;)e^=this.data.G18<<this.getBCHDigit(e)-this.getBCHDigit(this.data.G18);return t<<12|e}getBCHDigit(t){let e=0;for(;t!=0;)e++,t>>>=1;return e}getPatternPosition(t){return this.data.PATTERN_POSITION_TABLE[t-1]}getMask(t,e,s){switch(t){case ot.PATTERN000:return(e+s)%2==0;case ot.PATTERN001:return e%2==0;case ot.PATTERN010:return s%3==0;case ot.PATTERN011:return(e+s)%3==0;case ot.PATTERN100:return(Math.floor(e/2)+Math.floor(s/3))%2==0;case ot.PATTERN101:return e*s%2+e*s%3==0;case ot.PATTERN110:return(e*s%2+e*s%3)%2==0;case ot.PATTERN111:return(e*s%3+(e+s)%2)%2==0;default:throw new Error("bad maskPattern:"+t)}}getErrorCorrectPolynomial(t){const e=new Bn;let s=new Dt([1],0);for(let i=0;i<t;i++)s=s.multiply(new Dt([1,e.gexp(i)],0));return s}getLengthInBits(t,e){if(1<=e&&e<10)switch(t){case K.MODE_NUMBER:return 10;case K.MODE_ALPHA_NUM:return 9;case K.MODE_8BIT_BYTE:return 8;case K.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(e<27)switch(t){case K.MODE_NUMBER:return 12;case K.MODE_ALPHA_NUM:return 11;case K.MODE_8BIT_BYTE:return 16;case K.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else if(e<41)switch(t){case K.MODE_NUMBER:return 14;case K.MODE_ALPHA_NUM:return 13;case K.MODE_8BIT_BYTE:return 16;case K.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}else throw new Error("type:"+e)}getLostPoint(t){const e=t.getModuleCount();let s=0;for(let r=0;r<e;r++)for(let l=0;l<e;l++){let a=0;const c=t.isDark(r,l);for(let h=-1;h<=1;h++)if(!(r+h<0||e<=r+h))for(let u=-1;u<=1;u++)l+u<0||e<=l+u||h==0&&u==0||c==t.isDark(r+h,l+u)&&a++;a>5&&(s+=3+a-5)}for(let r=0;r<e-1;r++)for(let l=0;l<e-1;l++){let a=0;t.isDark(r,l)&&a++,t.isDark(r+1,l)&&a++,t.isDark(r,l+1)&&a++,t.isDark(r+1,l+1)&&a++,(a==0||a==4)&&(s+=3)}for(let r=0;r<e;r++)for(let l=0;l<e-6;l++)t.isDark(r,l)&&!t.isDark(r,l+1)&&t.isDark(r,l+2)&&t.isDark(r,l+3)&&t.isDark(r,l+4)&&!t.isDark(r,l+5)&&t.isDark(r,l+6)&&(s+=40);for(let r=0;r<e;r++)for(let l=0;l<e-6;l++)t.isDark(l,r)&&!t.isDark(l+1,r)&&t.isDark(l+2,r)&&t.isDark(l+3,r)&&t.isDark(l+4,r)&&!t.isDark(l+5,r)&&t.isDark(l+6,r)&&(s+=40);let i=0;for(let r=0;r<e;r++)for(let l=0;l<e;l++)t.isDark(l,r)&&i++;const o=Math.abs(100*i/e/e-50)/5;return s+=o*10,s}}class Qi{constructor(t){if(this.options={content:"",padding:8,width:256,height:256,typeNumber:4,color:"#000000",background:"#ffffff",ecl:"M",container:"svg",join:!0},typeof t=="string"&&(t={content:t}),t)for(const o in t)this.options[o]=t[o];if(this.options.content.length===0||this.options.content.length>7e3)throw new Error("Expected 'content' to be non-empty and less than 6K !");this.options.padding<1&&(this.options.padding=1),this.options.width<1&&(this.options.width=256),this.options.height<1&&(this.options.height=256);const e=this.options.content,s=this._getTypeNumber(e,this.options.ecl),i=this._getErrorCorrectLevel(this.options.ecl);this.qrCodeModel=new Yi(s,i),this.qrCodeModel.addData(e),this.qrCodeModel.make()}_getErrorCorrectLevel(t){switch(t){case"L":return rt.L;case"M":return rt.M;case"Q":return rt.Q;case"H":return rt.H;default:throw new Error("Unknown error correction level: "+t)}}_getTypeNumber(t,e){const s=this._getUTF8Length(t);let i=1,o=0;for(let r=0,l=ue.length;r<=l;r++){const a=ue[r];if(!a)throw new Error("Content too long: expected "+o+" but got "+s);switch(e){case"L":o=a[0];break;case"M":o=a[1];break;case"Q":o=a[2];break;case"H":o=a[3];break;default:throw new Error("Unknown error correction level: "+e)}if(s<=o)break;i++}if(i>ue.length)throw new Error("Content too long");return i}_getUTF8Length(t){const e=encodeURI(t).toString().replace(/\%[0-9a-fA-F]{2}/g,"a");return e.length+(e.length!=t.length?3:0)}svg(){const t="",e=this.options.width,s=this.options.height,i=this.qrCodeModel.modules,o=i.length,r=e/(o+2*this.options.padding),l=s/(o+2*this.options.padding),a=this.options.join,c='<rect x="0" y="0" width="'+e+'" height="'+s+'" style="fill:'+this.options.background+';shape-rendering:crispEdges;"/>'+t;let h="",u="";for(let _=0;_<o;_++)for(let g=0;g<o;g++)if(i[g][_]){let p=g*r+this.options.padding*r,m=_*l+this.options.padding*l;if(a){let w=r+p,D=l+m;p=Number.isInteger(p)?Number(p):p.toFixed(2),m=Number.isInteger(m)?Number(m):m.toFixed(2),w=Number.isInteger(w)?Number(w):w.toFixed(2),D=Number.isInteger(D)?Number(D):D.toFixed(2),u+="M"+p+","+m+" V"+D+" H"+w+" V"+m+" H"+p+" Z "}else h+='<rect x="'+p.toString()+'" y="'+m.toString()+'" width="'+r+'" height="'+l+'" style="fill:'+this.options.color+';shape-rendering:crispEdges;"/>'+t}a&&(h='<path x="0" y="0" style="fill:'+this.options.color+';shape-rendering:crispEdges;" d="'+u+'" />');let f="";switch(this.options.container){case"svg":f+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="'+e+'" height="'+s+'">'+t,f+=c+h,f+="</svg>";break;case"svg-viewbox":f+='<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 '+e+" "+s+'">'+t,f+=c+h,f+="</svg>";break;default:f+=c+h;break}return f}}function to(n){let t,e=n[0].svg()+"",s;return{c(){t=new Xn(!1),s=dt(),t.a=s},m(i,o){t.m(e,i,o),L(i,s,o)},p:k,i:k,o:k,d(i){i&&(x(s),t.d())}}}function eo(n,t,e){let{content:s=""}=t,{backgroundColor:i="#ffffff"}=t,{color:o="#000000"}=t,{errorCorrection:r="M"}=t,{isResponsive:l=!1}=t,{padding:a=4}=t,{size:c=150}=t;const h={background:i,color:o,container:l?"svg-viewbox":"svg",content:s,ecl:r,height:c,join:!0,padding:a,typeNumber:4,width:c},u=new Qi(h);return n.$$set=f=>{"content"in f&&e(1,s=f.content),"backgroundColor"in f&&e(2,i=f.backgroundColor),"color"in f&&e(3,o=f.color),"errorCorrection"in f&&e(4,r=f.errorCorrection),"isResponsive"in f&&e(5,l=f.isResponsive),"padding"in f&&e(6,a=f.padding),"size"in f&&e(7,c=f.size)},[u,s,i,o,r,l,a,c]}class no extends ct{constructor(t){super(),at(this,t,eo,to,et,{content:1,backgroundColor:2,color:3,errorCorrection:4,isResponsive:5,padding:6,size:7})}}function so(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var On={exports:{}};(function(n){var t=(()=>{var e=Object.defineProperty,s=Object.getOwnPropertyDescriptor,i=Object.getOwnPropertyNames,o=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,a=(A,v,C)=>v in A?e(A,v,{enumerable:!0,configurable:!0,writable:!0,value:C}):A[v]=C,c=(A,v)=>{for(var C in v||(v={}))r.call(v,C)&&a(A,C,v[C]);if(o)for(var C of o(v))l.call(v,C)&&a(A,C,v[C]);return A},h=(A,v)=>{for(var C in v)e(A,C,{get:v[C],enumerable:!0})},u=(A,v,C,j)=>{if(v&&typeof v=="object"||typeof v=="function")for(let M of i(v))!r.call(A,M)&&M!==C&&e(A,M,{get:()=>v[M],enumerable:!(j=s(v,M))||j.enumerable});return A},f=A=>u(e({},"__esModule",{value:!0}),A),_=(A,v,C)=>(a(A,typeof v!="symbol"?v+"":v,C),C),g={};h(g,{DEFAULT_OPTIONS:()=>m,DEFAULT_UUID_LENGTH:()=>p,default:()=>D});var b="5.0.3",p=6,m={dictionary:"alphanum",shuffle:!0,debug:!1,length:p,counter:0},w=class{constructor(v={}){_(this,"counter"),_(this,"debug"),_(this,"dict"),_(this,"version"),_(this,"dictIndex",0),_(this,"dictRange",[]),_(this,"lowerBound",0),_(this,"upperBound",0),_(this,"dictLength",0),_(this,"uuidLength"),_(this,"_digit_first_ascii",48),_(this,"_digit_last_ascii",58),_(this,"_alpha_lower_first_ascii",97),_(this,"_alpha_lower_last_ascii",123),_(this,"_hex_last_ascii",103),_(this,"_alpha_upper_first_ascii",65),_(this,"_alpha_upper_last_ascii",91),_(this,"_number_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii]}),_(this,"_alpha_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),_(this,"_alpha_lower_dict_ranges",{lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),_(this,"_alpha_upper_dict_ranges",{upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),_(this,"_alphanum_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),_(this,"_alphanum_lower_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],lowerCase:[this._alpha_lower_first_ascii,this._alpha_lower_last_ascii]}),_(this,"_alphanum_upper_dict_ranges",{digits:[this._digit_first_ascii,this._digit_last_ascii],upperCase:[this._alpha_upper_first_ascii,this._alpha_upper_last_ascii]}),_(this,"_hex_dict_ranges",{decDigits:[this._digit_first_ascii,this._digit_last_ascii],alphaDigits:[this._alpha_lower_first_ascii,this._hex_last_ascii]}),_(this,"_dict_ranges",{_number_dict_ranges:this._number_dict_ranges,_alpha_dict_ranges:this._alpha_dict_ranges,_alpha_lower_dict_ranges:this._alpha_lower_dict_ranges,_alpha_upper_dict_ranges:this._alpha_upper_dict_ranges,_alphanum_dict_ranges:this._alphanum_dict_ranges,_alphanum_lower_dict_ranges:this._alphanum_lower_dict_ranges,_alphanum_upper_dict_ranges:this._alphanum_upper_dict_ranges,_hex_dict_ranges:this._hex_dict_ranges}),_(this,"log",(...y)=>{const T=[...y];if(T[0]=`[short-unique-id] ${y[0]}`,this.debug===!0&&typeof console<"u"&&console!==null)return console.log(...T)}),_(this,"setDictionary",(y,T)=>{let P;if(y&&Array.isArray(y)&&y.length>1)P=y;else{P=[];let N;this.dictIndex=N=0;const X=`_${y}_dict_ranges`,W=this._dict_ranges[X];Object.keys(W).forEach(ht=>{const ie=ht;for(this.dictRange=W[ie],this.lowerBound=this.dictRange[0],this.upperBound=this.dictRange[1],this.dictIndex=N=this.lowerBound;this.lowerBound<=this.upperBound?N<this.upperBound:N>this.upperBound;this.dictIndex=this.lowerBound<=this.upperBound?N+=1:N-=1)P.push(String.fromCharCode(this.dictIndex))})}T&&(P=P.sort(()=>Math.random()-.5)),this.dict=P,this.dictLength=this.dict.length,this.setCounter(0)}),_(this,"seq",()=>this.sequentialUUID()),_(this,"sequentialUUID",()=>{let y,T,P="";y=this.counter;do T=y%this.dictLength,y=Math.trunc(y/this.dictLength),P+=this.dict[T];while(y!==0);return this.counter+=1,P}),_(this,"rnd",(y=this.uuidLength||p)=>this.randomUUID(y)),_(this,"randomUUID",(y=this.uuidLength||p)=>{let T,P,N;if(y===null||typeof y>"u"||y<1)throw new Error("Invalid UUID Length Provided");for(T="",N=0;N<y;N+=1)P=parseInt((Math.random()*this.dictLength).toFixed(0),10)%this.dictLength,T+=this.dict[P];return T}),_(this,"fmt",(y,T)=>this.formattedUUID(y,T)),_(this,"formattedUUID",(y,T)=>{const P={$r:this.randomUUID,$s:this.sequentialUUID,$t:this.stamp};return y.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,X=>{const W=X.slice(0,2),ht=parseInt(X.slice(2),10);return W==="$s"?P[W]().padStart(ht,"0"):W==="$t"&&T?P[W](ht,T):P[W](ht)})}),_(this,"availableUUIDs",(y=this.uuidLength)=>parseFloat(Math.pow([...new Set(this.dict)].length,y).toFixed(0))),_(this,"approxMaxBeforeCollision",(y=this.availableUUIDs(this.uuidLength))=>parseFloat(Math.sqrt(Math.PI/2*y).toFixed(20))),_(this,"collisionProbability",(y=this.availableUUIDs(this.uuidLength),T=this.uuidLength)=>parseFloat((this.approxMaxBeforeCollision(y)/this.availableUUIDs(T)).toFixed(20))),_(this,"uniqueness",(y=this.availableUUIDs(this.uuidLength))=>{const T=parseFloat((1-this.approxMaxBeforeCollision(y)/y).toFixed(20));return T>1?1:T<0?0:T}),_(this,"getVersion",()=>this.version),_(this,"stamp",(y,T)=>{const P=Math.floor(+(T||new Date)/1e3).toString(16);if(typeof y=="number"&&y===0)return P;if(typeof y!="number"||y<10)throw new Error(["Param finalLength must be a number greater than or equal to 10,","or 0 if you want the raw hexadecimal timestamp"].join(`
`));const N=y-9,X=Math.round(Math.random()*(N>15?15:N)),W=this.randomUUID(N);return`${W.substring(0,X)}${P}${W.substring(X)}${X.toString(16)}`}),_(this,"parseStamp",(y,T)=>{if(T&&!/t0|t[1-9]\d{1,}/.test(T))throw new Error("Cannot extract date from a formated UUID with no timestamp in the format");const P=T?T.replace(/\$[rs]\d{0,}|\$t0|\$t[1-9]\d{1,}/g,X=>{const W={$r:Rt=>[...Array(Rt)].map(()=>"r").join(""),$s:Rt=>[...Array(Rt)].map(()=>"s").join(""),$t:Rt=>[...Array(Rt)].map(()=>"t").join("")},ht=X.slice(0,2),ie=parseInt(X.slice(2),10);return W[ht](ie)}).replace(/^(.*?)(t{8,})(.*)$/g,(X,W,ht)=>y.substring(W.length,W.length+ht.length)):y;if(P.length===8)return new Date(parseInt(P,16)*1e3);if(P.length<10)throw new Error("Stamp length invalid");const N=parseInt(P.substring(P.length-1),16);return new Date(parseInt(P.substring(N,N+8),16)*1e3)}),_(this,"setCounter",y=>{this.counter=y});const C=c(c({},m),v);this.counter=0,this.debug=!1,this.dict=[],this.version=b;const{dictionary:j,shuffle:M,length:S,counter:z}=C;return this.uuidLength=S,this.setDictionary(j,M),this.setCounter(z),this.debug=C.debug,this.log(this.dict),this.log(`Generator instantiated with Dictionary Size ${this.dictLength} and counter set to ${this.counter}`),this.log=this.log.bind(this),this.setDictionary=this.setDictionary.bind(this),this.setCounter=this.setCounter.bind(this),this.seq=this.seq.bind(this),this.sequentialUUID=this.sequentialUUID.bind(this),this.rnd=this.rnd.bind(this),this.randomUUID=this.randomUUID.bind(this),this.fmt=this.fmt.bind(this),this.formattedUUID=this.formattedUUID.bind(this),this.availableUUIDs=this.availableUUIDs.bind(this),this.approxMaxBeforeCollision=this.approxMaxBeforeCollision.bind(this),this.collisionProbability=this.collisionProbability.bind(this),this.uniqueness=this.uniqueness.bind(this),this.getVersion=this.getVersion.bind(this),this.stamp=this.stamp.bind(this),this.parseStamp=this.parseStamp.bind(this),this}};_(w,"default",w);var D=w;return f(g)})();n.exports=t.default,typeof window<"u"&&(t=t.default)})(On);var io=On.exports;const oo=so(io);async function ro(n){if("clipboard"in navigator)await navigator.clipboard.writeText(n);else{const t=document.createElement("input");t.type="text",t.disabled=!0,t.style.setProperty("position","fixed"),t.style.setProperty("z-index","-100"),t.style.setProperty("pointer-events","none"),t.style.setProperty("opacity","0"),t.value=n,document.body.appendChild(t),t.click(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}}const lo=(n,t)=>{async function e(){if(i)try{await ro(i),n.dispatchEvent(new CustomEvent("svelte-copy",{detail:i}))}catch(o){n.dispatchEvent(new CustomEvent("svelte-copy:error",{detail:o}))}}let s=typeof t=="string"?["click"]:[t.events].flat(1),i=typeof t=="string"?t:t.text;return s.forEach(o=>{n.addEventListener(o,e,!0)}),{update:o=>{const r=typeof o=="string"?["click"]:[o.events].flat(1),l=typeof o=="string"?o:o.text,a=r.filter(h=>!s.includes(h)),c=s.filter(h=>!r.includes(h));a.forEach(h=>{n.addEventListener(h,e,!0)}),c.forEach(h=>{n.removeEventListener(h,e,!0)}),s=r,i=l},destroy:()=>{s.forEach(o=>{n.removeEventListener(o,e,!0)})}}};function ao(n){let t;return{c(){t=I("div"),t.textContent="Tab 3"},m(e,s){L(e,t,s)},p:k,i:k,o:k,d(e){e&&x(t)}}}function co(n){let t;return{c(){t=I("div"),t.textContent="Tab 2"},m(e,s){L(e,t,s)},p:k,i:k,o:k,d(e){e&&x(t)}}}function ho(n){let t,e,s,i;const o=[fo,uo],r=[];function l(a,c){return yo()?0:1}return e=l(),s=r[e]=o[e](n),{c(){t=I("div"),s.c(),E(t,"id","config"),E(t,"class","svelte-957wsz")},m(a,c){L(a,t,c),r[e].m(t,null),i=!0},p(a,c){s.p(a,c)},i(a){i||($(s),i=!0)},o(a){U(s),i=!1},d(a){a&&x(t),r[e].d()}}}function uo(n){let t;return{c(){t=I("div"),t.innerHTML="<p>This feature currently only works in Chromium-based browsers with the File System API enabled.</p>",E(t,"id","drop-canvas"),E(t,"class","svelte-957wsz")},m(e,s){L(e,t,s)},p:k,i:k,o:k,d(e){e&&x(t)}}}function fo(n){let t,e,s,i;const o=[go,_o],r=[];function l(a,c){return a[2]?1:0}return t=l(n),e=r[t]=o[t](n),{c(){e.c(),s=dt()},m(a,c){r[t].m(a,c),L(a,s,c),i=!0},p(a,c){let h=t;t=l(a),t===h?r[t].p(a,c):(_t(),U(r[h],1,1,()=>{r[h]=null}),gt(),e=r[t],e?e.p(a,c):(e=r[t]=o[t](a),e.c()),$(e,1),e.m(s.parentNode,s))},i(a){i||($(e),i=!0)},o(a){U(e),i=!1},d(a){a&&x(s),r[t].d(a)}}}function _o(n){var T;let t,e,s,i,o,r,l=`https://tailed.live/${n[3]}`,a,c,h,u,f,_,g,b,p,m,w,D,A,v=((T=n[1])==null?void 0:T.name)+"",C,j,M,S,z,y;return s=new no({props:{content:`https://tailed.live/${n[3]}`,color:"var(--ansi-white)",backgroundColor:"var(--ansi-black)"}}),{c(){t=I("div"),e=I("p"),lt(s.$$.fragment),i=F(),o=I("p"),r=I("a"),a=ft(l),h=F(),u=I("button"),u.innerHTML='<img src="/copy.svg" alt="Copy" class="svelte-957wsz"/>',_=F(),g=I("div"),b=I("img"),m=F(),w=I("p"),D=ft("Tailing "),A=I("span"),C=ft(v),j=F(),M=I("button"),M.textContent="Stop",E(r,"href",c=`https://tailed.live/${n[3]}`),E(r,"target","_blank"),E(r,"class","svelte-957wsz"),E(u,"id","copy"),E(u,"title","Copy URL"),E(u,"class","svelte-957wsz"),E(o,"class","filename svelte-957wsz"),E(t,"id","details"),E(b,"id","spinner"),Wn(b.src,p="/spinner.gif")||E(b,"src",p),E(b,"alt","spinner"),E(b,"class","svelte-957wsz"),E(A,"class","filename svelte-957wsz"),E(M,"id","stop"),E(M,"class","svelte-957wsz")},m(P,N){L(P,t,N),R(t,e),st(s,e,null),R(t,i),R(t,o),R(o,r),R(r,a),R(o,h),R(o,u),L(P,_,N),L(P,g,N),R(g,b),R(g,m),R(g,w),R(w,D),R(w,A),R(A,C),R(g,j),R(g,M),S=!0,z||(y=[Se(f=lo.call(null,u,`https://tailed.live/${n[3]}`)),Z(M,"click",n[11])],z=!0)},p(P,N){var W;const X={};N&8&&(X.content=`https://tailed.live/${P[3]}`),s.$set(X),(!S||N&8)&&l!==(l=`https://tailed.live/${P[3]}`)&&fe(a,l),(!S||N&8&&c!==(c=`https://tailed.live/${P[3]}`))&&E(r,"href",c),f&&yt(f.update)&&N&8&&f.update.call(null,`https://tailed.live/${P[3]}`),(!S||N&2)&&v!==(v=((W=P[1])==null?void 0:W.name)+"")&&fe(C,v)},i(P){S||($(s.$$.fragment,P),S=!0)},o(P){U(s.$$.fragment,P),S=!1},d(P){P&&(x(t),x(_),x(g)),it(s),z=!1,tt(y)}}}function go(n){let t,e,s,i,o,r,l,a,c,h,u,f,_,g;function b(w,D){return w[1]?po:mo}let p=b(n),m=p(n);return{c(){t=I("div"),m.c(),e=F(),s=I("p"),s.textContent="Optionally, choose some highlighting rules to be applied:",i=F(),o=I("select"),r=I("option"),r.textContent="None",l=I("option"),l.textContent="Serilog",a=F(),c=I("div"),h=I("button"),u=ft("Start tailing!"),E(t,"id","drop-canvas"),E(t,"class","svelte-957wsz"),r.__value="none",Ue(r,r.__value),r.selected=!0,l.__value="serilog",Ue(l,l.__value),E(o,"id","rules"),E(o,"class","svelte-957wsz"),E(h,"id","tail"),h.disabled=f=!n[1],E(h,"class","svelte-957wsz"),E(c,"class","button-container svelte-957wsz")},m(w,D){L(w,t,D),m.m(t,null),n[15](t),L(w,e,D),L(w,s,D),L(w,i,D),L(w,o,D),R(o,r),R(o,l),L(w,a,D),L(w,c,D),R(c,h),R(h,u),_||(g=[Z(t,"drop",n[5]),Z(t,"dragover",wo),Z(t,"dragenter",n[6]),Z(t,"dragleave",n[7]),Z(h,"click",n[10])],_=!0)},p(w,D){p===(p=b(w))&&m?m.p(w,D):(m.d(1),m=p(w),m&&(m.c(),m.m(t,null))),D&2&&f!==(f=!w[1])&&(h.disabled=f)},i:k,o:k,d(w){w&&(x(t),x(e),x(s),x(i),x(o),x(a),x(c)),m.d(),n[15](null),_=!1,tt(g)}}}function po(n){var c;let t,e,s=((c=n[1])==null?void 0:c.name)+"",i,o,r,l,a;return{c(){t=I("p"),e=I("span"),i=ft(s),o=F(),r=I("a"),r.textContent="(change)",E(e,"class","filename svelte-957wsz"),E(r,"href","/"),E(r,"class","svelte-957wsz")},m(h,u){L(h,t,u),R(t,e),R(e,i),R(t,o),R(t,r),l||(a=Z(r,"click",n[8]),l=!0)},p(h,u){var f;u&2&&s!==(s=((f=h[1])==null?void 0:f.name)+"")&&fe(i,s)},d(h){h&&x(t),l=!1,a()}}}function mo(n){let t,e,s,i,o,r;return{c(){t=I("p"),e=ft("Drag a log file here or "),s=I("a"),s.textContent="click to choose one",i=ft("."),E(s,"href","/"),E(s,"class","svelte-957wsz")},m(l,a){L(l,t,a),R(t,e),R(t,s),R(t,i),o||(r=Z(s,"click",n[9]),o=!0)},p:k,d(l){l&&x(t),o=!1,r()}}}function bo(n){let t,e,s,i,o,r,l,a,c,h,u,f,_,g,b,p,m,w;const D=[ho,co,ao],A=[];function v(C,j){return C[0]==0?0:C[0]==1?1:C[0]==2?2:-1}return~(g=v(n))&&(b=A[g]=D[g](n)),{c(){t=I("div"),e=I("div"),e.innerHTML='<img src="/logo_white.svg" alt="Tailed logo" class="svelte-957wsz"/> Tailed',s=F(),i=I("div"),i.innerHTML='<p>Simple and quick monitoring of short-term processes over the web.</p> <p><a href="https://docs.tailed.live" target="_blank" class="svelte-957wsz">Read the Documentation</a></p>',o=F(),r=I("div"),l=I("button"),l.textContent="Zero Install",a=F(),c=I("button"),c.textContent="CLI",h=F(),u=I("button"),u.textContent="In-Process",f=F(),_=I("div"),b&&b.c(),E(e,"class","logo svelte-957wsz"),E(i,"class","strapline svelte-957wsz"),E(l,"class","svelte-957wsz"),vt(l,"active",n[0]==0),E(c,"class","svelte-957wsz"),vt(c,"active",n[0]==1),E(u,"class","svelte-957wsz"),vt(u,"active",n[0]==2),E(r,"class","tabs svelte-957wsz"),E(_,"class","tab-content svelte-957wsz"),E(t,"id","content"),E(t,"class","svelte-957wsz")},m(C,j){L(C,t,j),R(t,e),R(t,s),R(t,i),R(t,o),R(t,r),R(r,l),R(r,a),R(r,c),R(r,h),R(r,u),R(t,f),R(t,_),~g&&A[g].m(_,null),p=!0,m||(w=[Z(l,"click",n[12]),Z(c,"click",n[13]),Z(u,"click",n[14])],m=!0)},p(C,[j]){(!p||j&1)&&vt(l,"active",C[0]==0),(!p||j&1)&&vt(c,"active",C[0]==1),(!p||j&1)&&vt(u,"active",C[0]==2);let M=g;g=v(C),g===M?~g&&A[g].p(C,j):(b&&(_t(),U(A[M],1,1,()=>{A[M]=null}),gt()),~g?(b=A[g],b?b.p(C,j):(b=A[g]=D[g](C),b.c()),$(b,1),b.m(_,null)):b=null)},i(C){p||($(b),p=!0)},o(C){U(b),p=!1},d(C){C&&x(t),~g&&A[g].d(),m=!1,tt(w)}}}function wo(n){n.preventDefault()}function yo(){return window.showOpenFilePicker!==void 0}function vo(n,t,e){const s=new oo({length:22});Ie(async()=>{const v=await Gi(()=>import("./Worker-db34985d.js"),[]);new v.default});let o=0,r,l,a,c;async function h(v){var M;v.preventDefault(),c.classList.contains("drop-over")&&c.classList.remove("drop-over");const C=(M=v.dataTransfer)==null?void 0:M.items;if(!C||C.length==0)return;const j=C[0];j.kind==="file"&&e(1,r=await j.getAsFileSystemHandle())}function u(v){c.classList.add("drop-over")}function f(v){c.classList.remove("drop-over")}function _(v){v.preventDefault(),c.classList.contains("drop-over")&&c.classList.remove("drop-over"),e(1,r=void 0)}async function g(v){v.preventDefault();try{const[C]=await window.showOpenFilePicker({multiple:!1});e(1,r=C)}catch(C){console.log(C)}}function b(v){r&&(e(2,l=!0),e(3,a=s.randomUUID()),postMessage(new gn(a,"start",r)))}function p(v){e(2,l=!1),postMessage(new gn(a,"stop",r))}const m=()=>e(0,o=0),w=()=>e(0,o=1),D=()=>e(0,o=2);function A(v){bt[v?"unshift":"push"](()=>{c=v,e(4,c)})}return e(0,o=0),e(1,r=void 0),e(2,l=!1),e(3,a=""),[o,r,l,a,c,h,u,f,_,g,b,p,m,w,D,A]}class Co extends ct{constructor(t){super(),at(this,t,vo,bo,et,{})}}function ko(n){let t,e,s,i;return t=new Je({props:{path:"/:id",component:Fi}}),s=new Je({props:{path:"/",component:Co}}),{c(){lt(t.$$.fragment),e=F(),lt(s.$$.fragment)},m(o,r){st(t,o,r),L(o,e,r),st(s,o,r),i=!0},p:k,i(o){i||($(t.$$.fragment,o),$(s.$$.fragment,o),i=!0)},o(o){U(t.$$.fragment,o),U(s.$$.fragment,o),i=!1},d(o){o&&x(e),it(t,o),it(s,o)}}}function Eo(n){let t,e,s,i,o;return i=new Os({props:{$$slots:{default:[ko]},$$scope:{ctx:n}}}),{c(){t=I("style"),t.textContent=`@import url('https://fonts.googleapis.com/css?family=Roboto&display=swap');
        @import url('https://fonts.googleapis.com/css?family=Roboto+Mono&display=swap');`,e=F(),s=I("main"),lt(i.$$.fragment)},m(r,l){R(document.head,t),L(r,e,l),L(r,s,l),st(i,s,null),o=!0},p(r,[l]){const a={};l&1&&(a.$$scope={dirty:l,ctx:r}),i.$set(a)},i(r){o||($(i.$$.fragment,r),o=!0)},o(r){U(i.$$.fragment,r),o=!1},d(r){r&&(x(e),x(s)),x(t),it(i)}}}class So extends ct{constructor(t){super(),at(this,t,null,Eo,et,{})}}new So({target:document.getElementById("app")});
